var Component=(()=>{var Ko=Object.create;var qe=Object.defineProperty;var Zo=Object.getOwnPropertyDescriptor;var Vo=Object.getOwnPropertyNames;var Qo=Object.getPrototypeOf,ei=Object.prototype.hasOwnProperty;var Xe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ti=(e,t)=>{for(var n in t)qe(e,n,{get:t[n],enumerable:!0})},un=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Vo(t))!ei.call(e,o)&&o!==n&&qe(e,o,{get:()=>t[o],enumerable:!(r=Zo(t,o))||r.enumerable});return e};var dn=(e,t,n)=>(n=e!=null?Ko(Qo(e)):{},un(t||!e||!e.__esModule?qe(n,"default",{value:e,enumerable:!0}):n,e)),ni=e=>un(qe({},"__esModule",{value:!0}),e);var hn=Xe((Ka,fn)=>{fn.exports=_jsx_runtime});var gn=Xe((Za,pn)=>{pn.exports=React});var vn=Xe((Va,mn)=>{mn.exports=ReactDOM});var Sr=Xe(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});var be=gn(),ri=vn();function oi(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var a=oi(be);function j(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}var ii=e=>/^#([A-Fa-f0-9]{3,4}){1,2}$/.test(e),si=(e,t)=>e.match(new RegExp(`.{${t}}`,"g")),ai=e=>parseInt(e.repeat(2/e.length),16);function li(e,t){return typeof e<"u"?e/255:typeof t!="number"||t<0||t>1?1:t}function ci(e){if(!e)return;if(!ii(e))throw new Error("Invalid color string, must be a valid hex color");let t=Math.floor((e.length-1)/3),n=si(e.slice(1),t),[r,o,i,s]=n.map(ai);return{r,g:o,b:i,a:li(s,1)}}function ui(e){if(!e)return;let{r:t,g:n,b:r,a:o}=e,i=Math.round(o*255);return`#${t.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`}function Be(e,t){if(!e)return e;let{r:n,g:r,b:o,a:i}=ci(e);return ui({r:n,g:r,b:o,a:i*t})}function P(e,t){return{prev:t(e.prev,"prev"),next:t(e.next,"next")}}function Un(e,t){return{prev:e?.prev===void 0?t:e.prev,next:e?.next===void 0?t:e.next}}function bt(e,t,n){return P(Un(e,t),n)}function di(e){return e.lines.map(t=>t.tokens.map(n=>n.content).join("")).join(`
`)}function fi(e,t){return Et(e?qn(e).map(Xn):[...t.keys()].map(n=>({[n+1]:!0})))}function qn(e){return e.split(/,(?![^\[]*\])/g)}function Et(e){return e.reduce((t,n)=>Object.assign(t,n),{})}function hi(e){return!!e.match(/(\d+)\[(.+)\]/)}function Xn(e){let t=e.match(/(\d+)\[(.+)\]/);if(t){let[,n,r]=t,o=r.split(",").map(Jn);return{[Number(n)]:o}}else return Et(Ct(e).map(n=>({[n]:!0})))}function Jn(e){let[t,n]=e.split(":");if(!et(t))throw new ye(t);let r=Number(t);if(r<1)throw new tt;if(n){if(!et(n))throw new ye(n);return{start:r,end:+n}}else return{start:r,end:r}}function pi(e,t){if(e){let n=gi(e);return Object.keys(n).map(o=>parseInt(o,10))}else return[...t.keys()]}function gi(e){if(!e)throw new Error("Focus cannot be empty");try{let t=e.split(/,(?![^\[]*\])/g).map(mi);return vi(t.flat())}catch(t){throw t}}function mi(e){let t=e.match(/(\d+)\[(.+)\]/);if(t){let[,n,r]=t,o=r.split(",").map(Ct),i=Number(n)-1,s=o.flat().map(c=>c-1);return[[i,s]]}else return Ct(e).map(n=>[n-1,!0])}function Ct(e){let[t,n]=e.split(":");if(!et(t))throw new ye(t);let r=Number(t);if(r<1)throw new tt;if(n){if(!et(n))throw new ye(n);let o=[];for(let i=r;i<=+n;i++)o.push(i);return o}else return[r]}function et(e){e=e.toString();var t=Math.abs(e),n=parseInt(e,10);return!isNaN(t)&&n===t&&t.toString()===e}var tt=class extends Error{constructor(){super("Invalid line or column number in focus string"),Object.setPrototypeOf(this,new.target.prototype)}},ye=class extends Error{constructor(t){super(`Invalid number "${t}" in focus string`),this.number=t,Object.setPrototypeOf(this,new.target.prototype)}};function vi(e){let t={},n=-1,r=e==null?0:e.length;for(;++n<r;){var o=e[n];t[o[0]]=o[1]}return t}var w;(function(e){e[e.CodeForeground=0]="CodeForeground",e[e.CodeBackground=1]="CodeBackground",e[e.EditorForeground=2]="EditorForeground",e[e.EditorBackground=3]="EditorBackground",e[e.FocusBorder=4]="FocusBorder",e[e.ActiveTabBackground=5]="ActiveTabBackground",e[e.ActiveTabForeground=6]="ActiveTabForeground",e[e.InactiveTabBackground=7]="InactiveTabBackground",e[e.InactiveTabForeground=8]="InactiveTabForeground",e[e.EditorGroupBorder=9]="EditorGroupBorder",e[e.EditorGroupHeaderBackground=10]="EditorGroupHeaderBackground",e[e.TabBorder=11]="TabBorder",e[e.ActiveTabBottomBorder=12]="ActiveTabBottomBorder",e[e.LineNumberForeground=13]="LineNumberForeground",e[e.InputForeground=14]="InputForeground",e[e.InputBackground=15]="InputBackground",e[e.InputBorder=16]="InputBorder",e[e.SelectionBackground=17]="SelectionBackground",e[e.IconForeground=18]="IconForeground",e[e.ListActiveSelectionBackground=19]="ListActiveSelectionBackground",e[e.ListActiveSelectionForeground=20]="ListActiveSelectionForeground",e[e.ListHoverBackground=21]="ListHoverBackground",e[e.ListHoverForeground=22]="ListHoverForeground",e[e.SideBarBackground=23]="SideBarBackground",e[e.SideBarForeground=24]="SideBarForeground",e[e.SideBarBorder=25]="SideBarBorder",e[e.LineHighlightBackground=26]="LineHighlightBackground",e[e.RangeHighlightBackground=27]="RangeHighlightBackground",e[e.EditorInfoForeground=28]="EditorInfoForeground"})(w||(w={}));var Je="#6FC3DF";function C(e,t){var n,r;let o=e.colors||{};switch(t){case w.CodeForeground:return((n=bn(e))===null||n===void 0?void 0:n.foreground)||C(e,w.EditorForeground);case w.CodeBackground:return((r=bn(e))===null||r===void 0?void 0:r.background)||C(e,w.EditorBackground);case w.EditorBackground:return o["editor.background"]||A(e,{light:"#fffffe",dark:"#1E1E1E",hc:"#000000"});case w.EditorForeground:return o["editor.foreground"]||A(e,{light:"#333333",dark:"#BBBBBB",hc:"#fffffe"});case w.FocusBorder:return o.focusBorder||A(e,{light:"#0090F1",dark:"#007FD4",hc:Je});case w.ActiveTabBackground:return o["tab.activeBackground"]||C(e,w.EditorBackground);case w.ActiveTabForeground:return o["tab.activeForeground"]||A(e,{dark:"#ffffff",light:"#333333",hc:"#ffffff"});case w.InactiveTabBackground:return o["tab.inactiveBackground"]||A(e,{dark:"#2D2D2D",light:"#ECECEC",hc:void 0});case w.InactiveTabForeground:return o["tab.inactiveForeground"]||A(e,{dark:Be(C(e,w.ActiveTabForeground),.5),light:Be(C(e,w.ActiveTabForeground),.7),hc:"#ffffff"});case w.TabBorder:return o["tab.border"]||A(e,{dark:"#252526",light:"#F3F3F3",hc:Je});case w.ActiveTabBottomBorder:return o["tab.activeBorder"]||C(e,w.ActiveTabBackground);case w.EditorGroupBorder:return o["editorGroup.border"]||A(e,{dark:"#444444",light:"#E7E7E7",hc:Je});case w.EditorGroupHeaderBackground:return o["editorGroupHeader.tabsBackground"]||A(e,{dark:"#252526",light:"#F3F3F3",hc:void 0});case w.LineNumberForeground:return o["editorLineNumber.foreground"]||A(e,{dark:"#858585",light:"#237893",hc:"#fffffe"});case w.InputBackground:return o["input.background"]||A(e,{dark:"#3C3C3C",light:"#fffffe",hc:"#000000"});case w.InputForeground:return o["input.foreground"]||C(e,w.EditorForeground);case w.InputBorder:return o["input.border"]||A(e,{dark:void 0,light:void 0,hc:Je});case w.SelectionBackground:return o["editor.selectionBackground"]||A(e,{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"});case w.IconForeground:return o["icon.foreground"]||A(e,{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"});case w.SideBarBackground:return o["sideBar.background"]||A(e,{dark:"#252526",light:"#F3F3F3",hc:"#000000"});case w.SideBarForeground:return o["sideBar.foreground"]||C(e,w.EditorForeground);case w.SideBarBorder:return o["sideBar.border"]||C(e,w.SideBarBackground);case w.ListActiveSelectionBackground:return o["list.activeSelectionBackground"]||A(e,{dark:"#094771",light:"#0060C0",hc:"#000000"});case w.ListActiveSelectionForeground:return o["list.activeSelectionForeground"]||A(e,{dark:"#fffffe",light:"#fffffe",hc:"#fffffe"});case w.ListHoverBackground:return o["list.hoverBackground"]||A(e,{dark:"#2A2D2E",light:"#F0F0F0",hc:void 0});case w.ListHoverForeground:return o["list.hoverForeground"]||void 0;case w.LineHighlightBackground:return o["editor.lineHighlightBackground"]||A(e,{dark:void 0,light:void 0,hc:void 0});case w.RangeHighlightBackground:return o["editor.rangeHighlightBackground"]||A(e,{dark:"#ffffff0b",light:"#fdff0033",hc:void 0});case w.EditorInfoForeground:return o["editor.infoForeground"]||A(e,{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"});default:return"#f00"}}function bi(e){let t=Yn(e);if(t==="dark")return"dark";if(t==="light")return"light"}function A(e,t){return t[Yn(e)]}function Yn(e){var t;return e.type?e.type:!((t=e.name)===null||t===void 0)&&t.toLowerCase().includes("light")?"light":"dark"}function yi(e){return{fg:C(e,w.CodeForeground),bg:C(e,w.CodeBackground)}}function bn(e){let t=e.settings?e.settings:e.tokenColors,n=t?t.find(r=>!r.name&&!r.scope):void 0;return n?.settings}var Kn=typeof window<"u"?a.default.useLayoutEffect:a.default.useEffect,Ye=200;function wi(e,t,n,r,o){let[i,s]=a.default.useState(null),c=Ci(),u=a.default.useRef(null),{prevLongestLine:d,nextLongestLine:f,element:p}=a.default.useMemo(()=>{let g=yn(e.prev,t.prev),y=yn(e.next,t.next),x=(e.prev||e.next).trimEnd().split(Zn),k=x.length,S=a.default.createElement("code",{className:"ch-code-scroll-parent"},a.default.createElement("br",null),x.map((F,T)=>a.default.createElement("div",{ref:F===g?u:void 0,key:T},r?a.default.createElement("span",{className:"ch-code-line-number"},"_",k):void 0,a.default.createElement("div",{style:{display:"inline-block"}},a.default.createElement("span",null,F)))),a.default.createElement("br",null));return{prevLongestLine:g,nextLongestLine:y,element:S}},[e]),b=[...o,c,d,f,n];return Kn(()=>{var g;if(u.current){let y=u.current,x=y?.parentElement,k=y?.querySelector(":scope > div"),S=y?.querySelector(":scope > span"),F=S?xi(S):0,T=wn(k),_=T/d.length||1,$=f.length*_,R=(g=xn(k))!==null&&g!==void 0?g:20,Z={containerWidth:wn(x.parentElement),containerHeight:xn(x.parentElement),lineWidths:[T||$||Ye,$||T||Ye],lineWidth:[Math.max(T||$||Ye,_*n),Math.max($||T||Ye,_*n)],lineHeight:R,colWidth:_,lineNumberWidth:F,deps:b};s(Z)}},[b]),!i||Ei(i.deps,b)?{element:p,dimensions:null}:{element:p,dimensions:i}}var Zn=/\r\n|\r|\n/;function yn(e,t){let n=e?e.split(Zn):[""],r=pi(t,n),o="";return n.forEach((i,s)=>{r.includes(s)&&i.length>o.length&&(o=i)}),o}function wn(e){let t=getComputedStyle(e);return parseFloat(t.width)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)}function xi(e){let t=getComputedStyle(e);return parseFloat(t.width)}function xn(e){if(!e)return null;let t=getComputedStyle(e);return parseFloat(t.height)-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)}function Ei(e,t){for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}function Ci(){let[e,t]=a.default.useState(void 0);return a.default.useEffect(()=>{function n(){t(window.innerWidth)}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}function ae(){}ae.prototype={diff:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.callback;typeof r=="function"&&(o=r,r={}),this.options=r;var i=this;function s(x){return o?(setTimeout(function(){o(void 0,x)},0),!0):x}t=this.castInput(t),n=this.castInput(n),t=this.removeEmpty(this.tokenize(t)),n=this.removeEmpty(this.tokenize(n));var c=n.length,u=t.length,d=1,f=c+u,p=[{newPos:-1,components:[]}],b=this.extractCommon(p[0],n,t,0);if(p[0].newPos+1>=c&&b+1>=u)return s([{value:this.join(n),count:n.length}]);function g(){for(var x=-1*d;x<=d;x+=2){var k=void 0,S=p[x-1],F=p[x+1],T=(F?F.newPos:0)-x;S&&(p[x-1]=void 0);var _=S&&S.newPos+1<c,$=F&&0<=T&&T<u;if(!_&&!$){p[x]=void 0;continue}if(!_||$&&S.newPos<F.newPos?(k=Oi(F),i.pushComponent(k.components,void 0,!0)):(k=S,k.newPos++,i.pushComponent(k.components,!0,void 0)),T=i.extractCommon(k,n,t,x),k.newPos+1>=c&&T+1>=u)return s(ki(i,k.components,n,t,i.useLongestToken));p[x]=k}d++}if(o)(function x(){setTimeout(function(){if(d>f)return o();g()||x()},0)})();else for(;d<=f;){var y=g();if(y)return y}},pushComponent:function(t,n,r){var o=t[t.length-1];o&&o.added===n&&o.removed===r?t[t.length-1]={count:o.count+1,added:n,removed:r}:t.push({count:1,added:n,removed:r})},extractCommon:function(t,n,r,o){for(var i=n.length,s=r.length,c=t.newPos,u=c-o,d=0;c+1<i&&u+1<s&&this.equals(n[c+1],r[u+1]);)c++,u++,d++;return d&&t.components.push({count:d}),t.newPos=c,u},equals:function(t,n){return this.options.comparator?this.options.comparator(t,n):t===n||this.options.ignoreCase&&t.toLowerCase()===n.toLowerCase()},removeEmpty:function(t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};function ki(e,t,n,r,o){for(var i=0,s=t.length,c=0,u=0;i<s;i++){var d=t[i];if(d.removed){if(d.value=e.join(r.slice(u,u+d.count)),u+=d.count,i&&t[i-1].added){var p=t[i-1];t[i-1]=t[i],t[i]=p}}else{if(!d.added&&o){var f=n.slice(c,c+d.count);f=f.map(function(g,y){var x=r[u+y];return x.length>g.length?x:g}),d.value=e.join(f)}else d.value=e.join(n.slice(c,c+d.count));c+=d.count,d.added||(u+=d.count)}}var b=t[s-1];return s>1&&typeof b.value=="string"&&(b.added||b.removed)&&e.equals("",b.value)&&(t[s-2].value+=b.value,t.pop()),t}function Oi(e){return{newPos:e.newPos,components:e.components.slice(0)}}var En=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,Cn=/\S/,Vn=new ae;Vn.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!Cn.test(e)&&!Cn.test(t)};Vn.tokenize=function(e){for(var t=e.split(/(\s+|[()[\]{}'"]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&En.test(t[n])&&En.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var Nt=new ae;Nt.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var o=n[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),t.push(o))}return t};function Si(e,t,n){return Nt.diff(e,t,n)}var Ti=new ae;Ti.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var Fi=new ae;Fi.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Qe(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qe=function(t){return typeof t}:Qe=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe(e)}var ji=Object.prototype.toString,Ie=new ae;Ie.useLongestToken=!0;Ie.tokenize=Nt.tokenize;Ie.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,o=r===void 0?function(i,s){return typeof s>"u"?n:s}:r;return typeof e=="string"?e:JSON.stringify(kt(e,null,null,o),o,"  ")};Ie.equals=function(e,t){return ae.prototype.equals.call(Ie,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function kt(e,t,n,r,o){t=t||[],n=n||[],r&&(e=r(o,e));var i;for(i=0;i<t.length;i+=1)if(t[i]===e)return n[i];var s;if(ji.call(e)==="[object Array]"){for(t.push(e),s=new Array(e.length),n.push(s),i=0;i<e.length;i+=1)s[i]=kt(e[i],t,n,r,o);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),Qe(e)==="object"&&e!==null){t.push(e),s={},n.push(s);var c=[],u;for(u in e)e.hasOwnProperty(u)&&c.push(u);for(c.sort(),i=0;i<c.length;i+=1)u=c[i],s[u]=kt(e[u],t,n,r,u);t.pop(),n.pop()}else s=e;return s}var Ot=new ae;Ot.tokenize=function(e){return e.slice()};Ot.join=Ot.removeEmpty=function(e){return e};function Bi(e,t){let n=0,r=0;return{lines:Ii(e).map(s=>s.next===void 0?Object.assign(Object.assign({},t.prev[s.prev]),{lineNumber:{prev:s.prev+1},move:"exit",enterIndex:null,exitIndex:r++}):s.prev===void 0?Object.assign(Object.assign({},t.next[s.next]),{lineNumber:{next:s.next+1},move:"enter",enterIndex:n++,exitIndex:null}):Object.assign(Object.assign({},t.prev[s.prev]),{lineNumber:{prev:s.prev+1,next:s.next+1},move:"stay",enterIndex:null,exitIndex:null})),enterCount:n,exitCount:r}}function Ii(e){let t=Si(e.prev,e.next),n=[],r=0,o=0;return t.forEach(i=>{if(i.added)for(let s=0;s<i.count;s++)n.push({next:o++});else if(i.removed)for(let s=0;s<i.count;s++)n.push({prev:r++});else for(let s=0;s<i.count;s++)n.push({prev:r++,next:o++})}),n}function Li(e,t,n){let{lines:r}=e,o=j(e,["lines"]),i=P(t,f=>fi(f,r)),s=r.map(f=>{let{tokens:p}=f,b=j(f,["tokens"]),g={prev:f.lineNumber.prev?i.prev[f.lineNumber.prev]:!1,next:f.lineNumber.next?i.next[f.lineNumber.next]:!1},y={prev:f.lineNumber.prev?n.prev[f.lineNumber.prev]||[]:[],next:f.lineNumber.next?n.next[f.lineNumber.next]||[]:[]};return Object.assign({focused:P(g,x=>!!x),groups:Ni(p,g,y)},b)}),c=P(i,f=>Object.keys(f).map(p=>Number(p))),u=P(c,f=>Math.min(...f)),d=P(c,f=>Math.max(...f));return Object.assign({lines:s,firstFocusedLineNumber:u,lastFocusedLineNumber:d},o)}function Ni(e,t,n){let r=P(t,f=>Array.isArray(f)?f:[]),o=P(n,f=>f.map(({columnNumbers:p})=>p)),i=[...r.prev,...r.next,...o.prev,...o.next],s=Ai(e,i),c=0,u=null,d=[];return s.forEach(f=>{let p=kn(c,t.prev),b=kn(c,t.next),g=On(c,n.prev),y=On(c,n.next);(!u||u.focused.prev!==p||u.focused.next!==b||u.annotation.prev!==g||u.annotation.next!==y)&&(u={focused:{prev:p,next:b},tokens:[],annotation:{prev:g,next:y}},d.push(u)),u?.tokens.push(f),c+=f.content.length}),d.map(f=>({focused:f.focused,tokens:f.tokens,element:_i(f)}))}function _i(e){return a.default.createElement(a.default.Fragment,null,e.tokens.map(({content:t,props:n},r)=>a.default.createElement("span",Object.assign({},n,{key:r+1}),t)))}function Ai(e,t){let n=[...t.map(o=>o.start-1),...t.map(o=>o.end)],r=e;return n.forEach(o=>{let i=[],s=0;r.forEach(c=>{let u=s,d=s+c.content.length;if(u<o&&o<d){let p=o-u,b=c.content.slice(0,p),g=c.content.slice(p);i.push(Object.assign(Object.assign({},c),{content:b})),i.push(Object.assign(Object.assign({},c),{content:g}))}else i.push(c);s=d}),r=i}),r}function kn(e,t){return Array.isArray(t)?t.some(({start:n,end:r})=>n-1<=e&&e<r):t}function On(e,t){return t.find(({columnNumbers:n})=>n.start-1<=e&&e<n.end)}function Le(e,t){if(e.fixed===!0)return e.value;{let[n,r]=e.interval,[o,i]=e.extremes;if(t<n)return o;if(t>r)return i;let s=(t-n)/(r-n),c=e.ease||je.linear;return o+c(s)*(i-o)}}function Sn([e,t],n,r){if(r<=1)return[e,t];let o=t-e,i=o/Math.pow(r,1/8),s=(o-i)/(r-1),c=e+s*n,u=c+i;return[c,u]}var je={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}};function Hi(e,t,n,r){let[o,i]=t;return e.map(s=>{let c=P(s.lineNumber,b=>b&&b-1),{enterIndex:u,exitIndex:d}=s,f=s.move==="exit"?{fixed:!0,value:c.prev}:s.move==="enter"?{fixed:!0,value:c.next}:{fixed:!1,extremes:[c.prev,c.next],interval:[o,i],ease:je.easeInOutCubic},p=s.move==="exit"?{fixed:!1,extremes:[0,-1],ease:je.easeInQuad,interval:Sn([0,o],d,r)}:s.move==="enter"?{fixed:!1,extremes:[1,0],ease:je.easeOutQuad,interval:Sn([i,1],u,n)}:{fixed:!0,value:0};return Object.assign(Object.assign({},s),{tweenX:p,tweenY:f})})}function Pi(e,t){let n=bt(e,[],i=>i.flatMap(s=>qn(s.focus).map(c=>Object.assign(Object.assign({},s),{focus:c})))),r=bt(n,[],i=>i.filter(Tn)),o=bt(n,[],i=>i.filter(s=>!Tn(s)));return{inlineAnnotations:P(r,i=>Mi(i,t)),multilineAnnotations:P(o,i=>Ri(i,t))}}function Tn(e){return hi(e.focus)}function Mi(e,t){let n={};return e.forEach(r=>{let o=Xn(r.focus),i=+Object.keys(o)[0],s=o[i],c=n[i]||[];c.push({columnNumbers:s[0],data:r.data,theme:t,Component:r.Component||$i()}),n[i]=c}),n}function $i(e,t){return({children:n})=>a.default.createElement("span",{style:{outline:"red 1px solid"}},n)}function Ri(e,t){return e.map(n=>({lineNumbers:Jn(n.focus),data:n.data,theme:t,Component:n.Component||zi(n,t)}))}function zi(e,t){let n=t.colors["editor.lineHighlightBackground"]||t.colors["editor.selectionHighlightBackground"];return({children:r,style:o})=>a.default.createElement("div",{style:Object.assign(Object.assign({},o),{background:n,cursor:"pointer"}),onClick:i=>alert("clicked"),className:"ch-code-bg-annotation"},a.default.createElement("span",{className:"ch-code-bg-annotation-border",style:{background:"#00a2d3",width:"3px",height:"100%",position:"absolute",left:0}}),r)}function Di(e,t){return{prev:Fn(e,t.prev,n=>n.lineNumber.prev),next:Fn(e,t.next,n=>n.lineNumber.next)}}function Fn(e,t,n){let r=[...t];r.sort((s,c)=>s.lineNumbers.start-c.lineNumbers.start);let o=0,i=[];for(;o<e.length;){let s=r[0],c=e[o];if(s&&n(c)>s.lineNumbers.start)throw"Code Hike can't handle two annotations for the same line";if(s&&n(c)===s.lineNumbers.start){let u={lines:[],annotation:s};for(;c&&(!n(c)||n(c)<=s.lineNumbers.end);)u.lines.push(c),c=e[++o];i.push(u),r.shift()}else if(!s)i.push({lines:e.slice(o)}),o=e.length;else{let u={lines:[]};for(;c&&(!n(c)||n(c)<s.lineNumbers.start);)u.lines.push(c),c=e[++o];i.push(u)}}return i}function Wi(e,t){return e.map(n=>{var{groups:r}=n,o=j(n,["groups"]);let{lineNumber:i}=o,s={prev:i.prev?t.prev[i.prev]||[]:[],next:i.next?t.next[i.next]||[]:[]};return Object.assign(Object.assign({},o),{annotatedGroups:Gi(r,s)})})}function Gi(e,t){let n=[...e],r=[...e],o=[...t.prev],i=[...t.next],s=[],c=1,u=1;for(;n.length>0||r.length>0;){let d=o[0],f=i[0],p=d&&d.columnNumbers.start===c,b=f&&f.columnNumbers.start===u;if(c<u)if(p){let g=d.columnNumbers.end+1;s.push({prev:{annotation:d,groups:K(n,c,g)}}),c=g,o.shift()}else{let g=Math.min(u,d?.columnNumbers.start||u);s.push({prev:{groups:K(n,c,g)}}),c=g}else if(c>u)if(b){let g=f.columnNumbers.end+1;s.push({next:{annotation:f,groups:K(r,u,g)}}),u=g,i.shift()}else{let g=Math.min(c,f?.columnNumbers.start||c);s.push({next:{groups:K(r,u,g)}}),u=g}else if(c==u)if(p&&b&&d.columnNumbers.end===f.columnNumbers.end){let g=f.columnNumbers.end+1;s.push({prev:{annotation:d,groups:K(n,c,g)},next:{annotation:f,groups:K(r,u,g)}}),c=g,u=g,o.shift(),i.shift()}else if(p){let g=d.columnNumbers.end+1;s.push({prev:{annotation:d,groups:K(n,c,g)}}),c=g,o.shift()}else if(b){let g=f.columnNumbers.end+1;s.push({next:{annotation:f,groups:K(r,u,g)}}),u=g,i.shift()}else if(!d&&!f)s.push({prev:{groups:n},next:{groups:r}}),n=[],r=[];else{let g=Math.min(d?.columnNumbers.start||Number.MAX_VALUE,f?.columnNumbers.start||Number.MAX_VALUE);s.push({prev:{groups:K(n,c,g)},next:{groups:K(r,u,g)}}),c=g,u=g}}return s}function K(e,t,n){let r=[],o=t;for(;o<n&&e.length>0;){let i=e.shift();r.push(i),o+=i.tokens.reduce((c,u)=>c+u.content.length,0)}return r}function Ui(e){let{highlightedLines:t,theme:n,focus:r}=e;return a.default.useMemo(()=>qi(e),[t.prev,t.next,r.prev,r.next,n])}function qi({theme:e,focus:t,annotations:n,highlightedLines:r}){let o=Xi(r),i=Ji(o,r),{inlineAnnotations:s,multilineAnnotations:c}=Yi(n,e),u=Ki(i,Un(t,null),s),d=Zi(u,s,c);return Vi(d,o)}function Xi(e){return P(e,t=>t.map(n=>n.tokens.map(r=>r.content).join("")).join(`
`).trimEnd().concat(`
`))}function Ji(e,t){return Bi(e,t)}function Yi(e,t){return Pi(e,t)}function Ki(e,t,n){return Li(e,t,n)}function Zi(e,t,n){var{lines:r}=e,o=j(e,["lines"]);let i=Wi(r,t),s=Di(i,n);return Object.assign(Object.assign({},o),{lineGroups:s,lineCount:{prev:r.filter(c=>c.lineNumber.prev!=null).length,next:r.filter(c=>c.lineNumber.next!=null).length}})}function Vi(e,t){let n=Qi(e.enterCount,e.exitCount),r=P(e.lineGroups,o=>o.map(i=>Object.assign(Object.assign({},i),{lines:Hi(i.lines,n,e.enterCount,e.exitCount)})));return Object.assign(Object.assign({},e),{groups:r,verticalInterval:n,code:t})}function Qi(e,t){return e<=0&&t<=0?[0,1]:e<=0&&t>=1?[.33,1]:e>=1&&t<=0?[0,.67]:[.25,.75]}function es({dimensions:e,codeStep:t,children:n,minZoom:r=0,maxZoom:o=1.2,center:i=!1,progress:s}){let{prev:c,next:u}=rs({codeStep:t,dimensions:e,minZoom:r,maxZoom:o,horizontalCenter:i}),d=Fe(c.zoom,u.zoom,s),f=Fe(c.dx,u.dx,s),p=Fe(c.dy,u.dy,s,t.verticalInterval),b=Fe(c.focusHeight,u.focusHeight,s),g=Fe(c.focusWidth,u.focusWidth,s),x=(e?.lineNumberWidth||0)*d||16,k=Math.max(g+x,e.containerWidth),S=x/d;return a.default.createElement(ts,{width:e.containerWidth,height:e.containerHeight},a.default.createElement(ns,{dx:f,dy:p,scale:d,height:Math.max(b,e.containerHeight),width:k},n(g,S)))}function ts({width:e,height:t,children:n}){return a.default.createElement("code",{style:{width:e,height:t,position:"relative",overflow:"auto"},className:"ch-code-scroll-parent",children:n})}function ns({dx:e,dy:t,scale:n,height:r,width:o,children:i}){return a.default.createElement("div",{style:{position:"absolute",top:0,left:0,transformOrigin:"top left",width:o,height:r,overflow:"hidden"},className:"ch-code-scroll-content"},a.default.createElement("div",{style:{position:"absolute",top:0,left:0,transform:`translateX(${e}px) translateY(${t}px) scale(${n})`,transformOrigin:"left top",width:o/n,height:(r-2*t)/n},children:i}))}function rs(e){var{codeStep:t}=e,n=j(e,["codeStep"]);let{lineHeight:r,lineWidth:o}=n.dimensions,i={prev:{extremes:[t.firstFocusedLineNumber.prev-1,t.lastFocusedLineNumber.prev-1],originalContentHeight:t.lineCount.prev*r,lineWidth:o[0]},next:{extremes:[t.firstFocusedLineNumber.next-1,t.lastFocusedLineNumber.next-1],originalContentHeight:t.lineCount.next*r,lineWidth:o[1]}};return P(i,({extremes:s,originalContentHeight:c,lineWidth:u})=>os(Object.assign({extremes:s,originalContentHeight:c,lineWidth:u},n)))}function os({dimensions:e,lineWidth:t,minZoom:n,maxZoom:r,extremes:o,originalContentHeight:i,horizontalCenter:s}){let{containerWidth:c,containerHeight:u,lineHeight:d}=e,f=(o[1]-o[0]+3)*d,p=e?.lineNumberWidth||16,b=16,g=Math.max(Math.min((c-p-b)/t,u/f,r),n),y=i*g,x=(o[0]-1)*d*g,k=(o[1]+2)*d*g,S=(k+x)/2,F=k-x,T=u>y?(u-y)/2:is(u/2-S,Math.max(u-y,-x),0),_=s?Math.max(c/2-t*g/2,0):0;return{zoom:g,dx:_,dy:T,focusHeight:F,focusWidth:t*g}}function is(e,t,n){return e<=t?t:e>=n?n:e}function Fe(e,t,n,r=[0,1]){return Le({fixed:!1,interval:r,extremes:[e,t],ease:je.easeInOutCubic},n)}function ss(e){return a.default.createElement(es,Object.assign({},e),(t,n)=>a.default.createElement(as,{codeStep:e.codeStep,focusWidth:t,lineHeight:e.dimensions.lineHeight,progress:e.progress,theme:e.theme,startX:n,lineNumberWidth:e.dimensions.lineNumberWidth}))}function as({codeStep:e,progress:t,focusWidth:n,lineHeight:r,startX:o,theme:i,lineNumberWidth:s}){let c=t<.5?e.groups.prev:e.groups.next;return a.default.createElement(a.default.Fragment,null,c.map((u,d)=>{if(!u.annotation)return a.default.createElement(jn,{lines:u.lines,t,focusWidth:n,lineHeight:r,startX:o,key:d,theme:i,lineNumberWidth:s});let f=Le(u.lines[0].tweenY,t),p=u.annotation.lineNumbers.end-u.annotation.lineNumbers.start+1,b=u.annotation.Component;return a.default.createElement(b,{style:{position:"absolute",height:p*r,width:"100%",transform:`translateY(${f*r}px)`},key:d,data:u.annotation.data,theme:u.annotation.theme,isInline:!1},a.default.createElement(jn,{lines:u.lines,t,focusWidth:n,lineHeight:r,startY:f,startX:o,theme:i,lineNumberWidth:s}))}))}function jn({lines:e,focusWidth:t,lineHeight:n,t:r,startX:o,startY:i=0,theme:s,lineNumberWidth:c}){return a.default.createElement(a.default.Fragment,null,e.map((u,d)=>{let{tweenX:f,tweenY:p,focused:b}=u,g=Le(f,r),y=Le(p,r),x=Qn(b,r,g);return a.default.createElement(a.default.Fragment,{key:d},c?a.default.createElement("span",{className:"ch-code-line-number",style:{position:"absolute",top:0,left:0,transform:`translate(${g*t}px, ${(y-i)*n}px)`,width:c,opacity:x,color:C(s,w.LineNumberForeground)}},r<.5?u.lineNumber.prev:u.lineNumber.next):void 0,a.default.createElement(us,{dx:o+g*t,dy:(y-i)*n,width:t,opacity:x},a.default.createElement(ls,{line:u,progress:r,dx:g})))}))}function ls({line:e,progress:t,dx:n}){return a.default.createElement("div",{style:{display:"inline-block",width:"100%"}},e.annotatedGroups.map((r,o)=>a.default.createElement(cs,{annotatedGroup:r,progress:t,dx:n,key:o})),a.default.createElement("br",null))}function cs({annotatedGroup:e,progress:t,dx:n}){var r,o,i;let s=t<.5?e.prev:e.next,c=s?.groups||[],u=(r=s?.annotation)===null||r===void 0?void 0:r.Component,d=c.map((f,p)=>{let b=Qn(f.focused,t,n);return a.default.createElement("span",{style:{opacity:b},key:p+1},f.element)});return u?a.default.createElement(u,{children:d,data:(o=s?.annotation)===null||o===void 0?void 0:o.data,theme:(i=s?.annotation)===null||i===void 0?void 0:i.theme,isInline:!0}):a.default.createElement(a.default.Fragment,null,d)}function us({children:e,dx:t,dy:n,opacity:r,width:o}){return a.default.createElement("div",{style:{position:"absolute",top:0,left:0,transform:`translate(${t}px, ${n}px)`,width:o,display:r<=0?"none":void 0}},e)}var Bn=.33;function Qn(e,t,n){return Le({fixed:!1,extremes:[e.prev?.99:Bn,e.next?.99:Bn],interval:[0,1]},t)-Math.abs(n)*1}function St({content:e,style:t,className:n}){let[r,o]=a.default.useState(!1);return a.default.createElement("svg",{style:t,onClick:()=>{ds(e),o(!0),setTimeout(()=>{o(!1)},1200)},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:n},a.default.createElement("title",null,"Copy"),r?a.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}):a.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.6px",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"}))}function ds(e){if(!navigator.clipboard){fs(e);return}navigator.clipboard.writeText(e)}function fs(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{var n=document.execCommand("copy")}catch{}document.body.removeChild(t)}function hs({tween:e,theme:t}){return Ui({highlightedLines:P(e,n=>n.code.lines),theme:t,focus:P(e,n=>n.focus),annotations:P(e,n=>n.annotations)})}var ps=10;function er(e){var{tween:t,progress:n,config:r}=e,o=j(e,["tween","progress","config"]);let i=hs({tween:t,theme:r.theme}),{element:s,dimensions:c}=wi(i.code,P(t,u=>u.focus),r.minColumns||ps,r.lineNumbers||!1,[r.parentHeight]);return c?a.default.createElement(ms,{dimensions:c,stepInfo:i,config:r,progress:n,htmlProps:o}):a.default.createElement(gs,{element:s,htmlProps:o})}function gs({element:e,htmlProps:t}){return a.default.createElement(tr,{htmlProps:t,style:{overflow:"hidden",opacity:0}},e)}function ms({config:{minZoom:e=1,maxZoom:t=1,horizontalCenter:n=!1,theme:r},dimensions:o,stepInfo:i,progress:s,htmlProps:c,config:u}){var d;let{bg:f,fg:p}=yi(r);return a.default.createElement(tr,{htmlProps:c,style:{opacity:1,backgroundColor:f,color:p,colorScheme:bi(r),["--ch-selection-background"]:C(r,w.SelectionBackground)}},a.default.createElement(ss,{codeStep:i,progress:s,dimensions:o,minZoom:e,maxZoom:t,center:n,theme:r}),u.showCopyButton?a.default.createElement(St,{className:"ch-code-button",content:(d=i?.code)===null||d===void 0?void 0:d.prev}):void 0)}function tr({htmlProps:e,style:t,children:n}){return a.default.createElement("div",Object.assign({},e,{style:Object.assign(Object.assign({margin:0,padding:0,position:"relative",whiteSpace:"pre"},t),e?.style),children:n}))}function _t(){return typeof window<"u"?performance.now():0}function vs(e,t){var n=a.default.useRef(null);return n.current==null&&(n.current={config:nr(e,t),state:bs(e,t)}),n.current}function nr(e,t){var n=t.stiffness,r=t.damping,o=t.mass,i=t.decimals,s=t.teleport;return{X:e,k:n??170,c:r??26,m:o??1,teleport:s??!1,decimals:i??2}}function bs(e,t){var n=t.from,r=t.initialSpeed;return{x0:n??e,v0:r??0,t0:_t(),raf:null}}var yt=Math.sqrt,ie=Math.exp,In=Math.sin,Ln=Math.cos;function Tt(e){var t=e.x0,n=e.v0,r=e.t0,o=e.t,i=e.k,s=e.c,c=e.m,u=e.X,d=t-u,f=(o-r)/1e3,p=s*s-4*i*c;if(p>0){var b=(-s+yt(p))/(2*c),g=(-s-yt(p))/(2*c),y=(d*b-n)/(b-g),x=(n-d*g)/(b-g);return{x:u+y*ie(g*f)+x*ie(b*f),v:y*g*ie(g*f)+x*b*ie(b*f)}}else if(p<0){var k=-s/(2*c),S=yt(-p)/(2*c),F=d,T=(n-k*d)/S;return{x:u+ie(k*f)*(F*Ln(S*f)+T*In(S*f)),v:ie(k*f)*((T*S+F*k)*Ln(S*f)-(F*S-T*k)*In(S*f))}}else{var _=-s/(2*c),$=d,R=n-_*d;return{x:u+($+R*f)*ie(_*f),v:(R+$*_+R*_*f)*ie(_*f)}}}var nt=[],Ft=null;function Nn(e){var t=nt.push(e);return t===1&&(Ft=requestAnimationFrame(ys)),[Ft,t-1]}function _n(e){var t=e[0],n=e[1];t===Ft&&delete nt[n]}function ys(){var e=_t(),t=nt;nt=[],ri.unstable_batchedUpdates(function(){return t.forEach(function(n){return n&&n(e)})})}var Ke=typeof window<"u"?a.default.useLayoutEffect:a.default.useEffect;function At(e,t){t===void 0&&(t={});var n=a.default.useState(),r=n[1],o=nr(e,t),i=vs(e,t),s=i.state,c=i.config,u=_t(),d=s.x0,f=s.v0,p=s.t0,b=c.k,g=c.c,y=c.m,x=c.X,k=o.teleport?{x,v:0}:Tt({x0:d,v0:f,t0:p,t:u,k:b,c:g,m:y,X:x}),S=k.x,F=k.v,T=ws(S,F,u,o);return Ke(function(){Object.assign(c,o)},[o.X,o.k,o.c,o.m,o.teleport]),Ke(function(){s.x0=S,s.v0=F,s.t0=u},[S,F,u]),Ke(function(){var _=function $(R){var Z=s.x0,it=s.v0,st=s.t0,Ce=c.k,He=c.c,pe=c.m,at=c.X,Pe=c.decimals,lt=Tt({x0:Z,v0:it,t0:st,t:R,k:Ce,c:He,m:pe,X:at}),ct=lt.x;he(ct,Pe)!==he(Z,Pe)?(s.raf=null,r(R)):s.raf=Nn($)};T&&s.raf==null?s.raf=Nn(_):!T&&s.raf!=null&&(_n(s.raf),s.raf=null)}),Ke(function(){return function(){s.raf!=null&&_n(s.raf)}},[]),[he(S,o.decimals),T]}function ws(e,t,n,r){var o=r.decimals,i=r.X,s=r.k,c=r.c,u=r.m;if(he(e,o)!==he(i,o))return!0;var d=n+.016,f=Tt({x0:e,v0:t,t0:n,t:d,k:s,c,m:u,X:i}),p=f.x;return he(p,o)!==he(i,o)}function he(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var xs={stiffness:120,damping:24,mass:.2,decimals:3};function Es(e){var{step:t,config:n}=e,r=j(e,["step","config"]);let{tween:o,t:i}=Cs(t,n.spring);return a.default.createElement(er,Object.assign({tween:o,progress:i,config:n},r))}function Cs(e,t=xs){let[{target:n,steps:r,index:o},i]=a.default.useState({target:2,steps:[e,e,e],index:0});a.default.useEffect(()=>{r[r.length-1]!=e&&i(f=>ks(f,e,s))},[e]);let[s]=At(n,t),c=s-o;return c<=1?{tween:{prev:r[0],next:r[1]},t:c}:{tween:{prev:r[1],next:r[2]},t:c-1}}function ks(e,t,n){let{steps:r,target:o,index:i}=e,s=r.slice();return n-i<1?(s[2]=t,Object.assign(Object.assign({},e),{steps:s})):(s[0]=r[1],s[1]=r[2],s[2]=t,Object.assign(Object.assign({},e),{steps:s,target:o+1,index:i+1}))}var jt=be.createContext({});function rr({classes:e,children:t}){let n=be.useContext(jt),r=or(n,e);return a.default.createElement(jt.Provider,{value:r,children:t})}function te(e,t){let n=be.useContext(jt),r=or(n,t);return be.useCallback(Os(e,r),[e,r])}function Os(e,t){return function(...r){let o=r.map(s=>e+(e&&s?"-":"")+s),i=o.slice();return o.forEach(s=>{s in t&&i.push(t[s])}),i.join(" ")}}function or(e,t){return be.useMemo(()=>Object.assign(Object.assign({},e),t),[e,t])}var Ss=a.default.forwardRef(function(e,t){var{title:n,children:r,titleBar:o,classes:i,theme:s,zoom:c=1,overflow:u}=e,d=j(e,["title","children","titleBar","classes","theme","zoom","overflow"]);let f=te("ch-frame",i),p=o||a.default.createElement(ir,{title:n}),b={"--ch-frame-zoom":c,overflow:u};return a.default.createElement(rr,{classes:i},a.default.createElement("div",Object.assign({},d,{ref:t}),a.default.createElement("div",{className:f("")},a.default.createElement("div",{className:f("title-bar"),style:{background:C(s,w.EditorGroupHeaderBackground)}},p),a.default.createElement("div",{className:f("content")},a.default.createElement("div",{className:f("zoom"),style:b},r)))))});a.default.forwardRef(function(e,t){var{title:n,children:r,titleBar:o,classes:i,overflow:s}=e,c=j(e,["title","children","titleBar","classes","overflow"]);let u=te("ch",i),d=o||a.default.createElement(ir,{title:n});return a.default.createElement(rr,{classes:i},a.default.createElement("div",Object.assign({},c,{ref:t}),a.default.createElement("div",{className:u("simple-frame")},a.default.createElement("div",{className:u("frame-title-bar")},d),r)))});function ir({title:e}){let t=te("ch-frame");return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:t("left-bar")},a.default.createElement(Ht,null)),a.default.createElement("div",{className:t("middle-bar")},e),a.default.createElement("div",{className:t("right-bar")}))}function Ht(){let e=te("ch-frame");return a.default.createElement("div",{className:e("buttons")},a.default.createElement("div",{className:e("button","button-left")}),a.default.createElement("div",{className:e("button-space")}),a.default.createElement("div",{className:e("button","button-middle")}),a.default.createElement("div",{className:e("button-space")}),a.default.createElement("div",{className:e("button","button-right")}))}var Ts=a.default.forwardRef(function(t,n){var r,{northPanel:o,southPanel:i,terminalPanel:s,style:c,height:u,northButton:d,southButton:f,theme:p,className:b,onTabClick:g}=t,y=j(t,["northPanel","southPanel","terminalPanel","style","height","northButton","southButton","theme","className","onTabClick"]);return a.default.createElement("div",Object.assign({ref:n},y,{className:"ch-editor-frame",style:Object.assign({background:C(p,w.EditorBackground)},c)}),a.default.createElement("div",{className:"ch-frame-title-bar",style:{color:C(p,w.IconForeground),background:C(p,w.EditorGroupHeaderBackground)}},a.default.createElement(An,{tabs:o.tabs,showFrameButtons:!0,button:d,panel:"north",theme:p,onTabClick:g})),a.default.createElement("div",{"data-ch-panel":"north",style:o.style,children:o.children}),i&&a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"ch-frame-title-bar",style:{transform:(r=i.style)===null||r===void 0?void 0:r.transform,color:C(p,w.IconForeground),background:C(p,w.EditorGroupHeaderBackground)}},a.default.createElement(An,{tabs:i.tabs,showFrameButtons:!1,button:f,topBorder:!0,panel:"south",theme:p,onTabClick:g})),a.default.createElement("div",{"data-ch-panel":"south",children:i.children,style:i.style})))});function An({tabs:e,button:t,showFrameButtons:n,topBorder:r,panel:o,theme:i,onTabClick:s}){let c=te("ch-editor-tab");return a.default.createElement(a.default.Fragment,null,r&&a.default.createElement("div",{style:{position:"absolute",height:"1px",background:C(i,w.EditorGroupBorder),width:"100%",top:0,zIndex:1}}),n?a.default.createElement(Ht,null):a.default.createElement("div",null),e.map(({title:u,active:d,style:f})=>a.default.createElement("div",{key:u,title:u,"data-ch-tab":o,className:c("",d?"active":"inactive"),style:Object.assign(Object.assign({},f),{background:C(i,d?w.ActiveTabBackground:w.InactiveTabBackground),color:C(i,d?w.ActiveTabForeground:w.InactiveTabForeground),borderRightColor:C(i,w.TabBorder),borderBottomColor:C(i,d?w.ActiveTabBottomBorder:w.InactiveTabBackground)}),onClick:s&&(()=>s(u))},a.default.createElement(Fs,{title:u}))),a.default.createElement("div",{style:{flex:1,minWidth:"0.8em"}}),t)}function Fs({title:e}){if(!e)return a.default.createElement("div",null);let t=e.lastIndexOf("/")+1,n=e.substring(t),r=e.substring(0,t);return a.default.createElement("div",null,a.default.createElement("span",{style:{opacity:.5}},r),n)}function js(e){let[,...t]=e.split(/^\$\s*/gm),n=t.map(s=>{let[c,...u]=s.split(/\r?\n/);return{run:c,output:u.length>0?u.join(`
`):null}}),r=n[n.length-1],o=n.length>0&&r.output!=null;return{title:o?r.run.split(/(\s+)/)[0]:"bash",isRunning:o,commands:n}}var Bs=a.default.createElement("span",{className:"ch-terminal-prompt"},"$");function Hn({text:e,progress:t=1,style:n}){let r=Is(e,t);return a.default.createElement("pre",{style:n,className:"ch-terminal-content"},r.map(({run:o,output:i},s)=>a.default.createElement(a.default.Fragment,{key:s},a.default.createElement("div",null,Bs," ",a.default.createElement("span",null,o)),i&&a.default.createElement("div",{className:"ch-terminal-output"},i))))}function Is(e,t){if(!e)return[];let n=Math.round(e.length*t),{commands:r}=js(e.slice(0,n));return r}function Ls({prev:e="",prevKey:t,next:n="",nextKey:r,progress:o}){return a.default.createElement("div",{className:"ch-terminal"},a.default.createElement("div",{style:{position:"relative",transform:`translateY(-${o*100}%)`}},a.default.createElement(Hn,{text:e,progress:1,key:t}),a.default.createElement(Hn,{style:{position:"absolute"},text:n,progress:o,key:r})))}function Ns({steps:e,progress:t}){let n=e.map(s=>s.text),r=t%1,o=_s(Math.floor(t),0,e.length-1),i=o+1;return a.default.createElement(Ls,{prev:n[o],prevKey:o,next:n[i]||"",nextKey:i,progress:r})}function _s(e,t,n){return Math.min(Math.max(e,t),n)}function As({prev:e,next:t,t:n,backward:r}){let o=Hs({prev:e,next:t,t:n,backward:r});return o?a.default.createElement("div",{className:"ch-editor-terminal",style:{height:o}},a.default.createElement("div",{className:"ch-editor-terminal-tab"},a.default.createElement("span",null,"Terminal")),a.default.createElement("div",{className:"ch-editor-terminal-content"},a.default.createElement(Ns,{steps:[{text:e||""},{text:t||""}],progress:n}),")")):null}function Hs({prev:e,next:t,t:n,backward:r}){return!e&&!t?0:!e&&t?wt*Math.min(n*4,1):e&&!t?wt*Math.max(1-n*4,0):wt}var wt=150;function Ps(e,t,n,r,o,i){let{prevSnapshot:s,nextSnapshot:c}=zs(e,t,n);if(!s)return Ms(t,n,i);if(!c||r===1)return Pn(t,n,i);let u=t.southPanel||n.southPanel,{prevNorthFile:d,prevSouthFile:f,nextNorthFile:p,nextSouthFile:b}=Pt(t,n,r==0||o),{northStyle:g,southStyle:y}=$s(s,c,r),{northTabs:x,southTabs:k}=Rs(s,c,d.name,f?.name,r);return{northContent:xe(p),northPanel:{tabs:x,style:g,children:a.default.createElement(we,{codeConfig:i,prevFile:d,nextFile:p,t:r,parentHeight:g.height||g.minHeight})},southContent:xe(b),southPanel:u&&{tabs:k,style:y,children:a.default.createElement(we,{codeConfig:i,prevFile:f,nextFile:b,t:r,parentHeight:y?.height||y?.minHeight})}}}function Ms(e,t,n){let r=e.northPanel,o=e.southPanel,{prevNorthFile:i,prevSouthFile:s,nextNorthFile:c,nextSouthFile:u}=Pt(e,t,!0);return{northContent:xe(i),northPanel:{tabs:r.tabs.map(d=>({title:d,active:d===r.active,style:{}})),style:{flexGrow:1,overflow:"hidden"},children:a.default.createElement(we,{codeConfig:n,prevFile:i,nextFile:i,t:0,parentHeight:"0"})},southContent:xe(s),southPanel:o&&{tabs:o.tabs.map(d=>({title:d,active:d===o.active,style:{}})),style:{flexGrow:1,overflow:"hidden"},children:a.default.createElement(we,{codeConfig:n,prevFile:s,nextFile:s,t:0,parentHeight:"0"})}}}function Pn(e,t,n){var r;let o=t.northPanel,i=t.southPanel,{prevNorthFile:s,prevSouthFile:c,nextNorthFile:u,nextSouthFile:d}=Pt(e,t,!1);return!i&&o.active===((r=e?.southPanel)===null||r===void 0?void 0:r.active)&&(u=d),{northContent:xe(u),northPanel:{tabs:o.tabs.map(p=>({title:p,active:p===o.active,style:{}})),style:{flexGrow:1,overflow:"hidden"},children:a.default.createElement(we,{codeConfig:n,prevFile:u,nextFile:u,t:1,parentHeight:"1"})},southContent:xe(d),southPanel:i&&{tabs:i.tabs.map(p=>({title:p,active:p===i.active,style:{}})),style:{flexGrow:1,overflow:"hidden"},children:a.default.createElement(we,{codeConfig:n,prevFile:d,nextFile:d,t:1,parentHeight:"1"})}}}function we({prevFile:e,nextFile:t,t:n,codeConfig:r,parentHeight:o}){var i;let s=Object.assign(Object.assign({},r?.htmlProps),{style:Object.assign({height:"100%"},(i=r?.htmlProps)===null||i===void 0?void 0:i.style)});return a.default.createElement(er,Object.assign({progress:n,tween:{prev:e,next:t},config:Object.assign(Object.assign({},r),{parentHeight:o})},s))}function xe(e){return e?di(e.code):""}function Pt(e,t,n){var r,o;let i=e.northPanel.active,s=t.northPanel.active,c=(r=e.southPanel)===null||r===void 0?void 0:r.active,u=(o=t.southPanel)===null||o===void 0?void 0:o.active,d=e.files.find(T=>T.name===i),f=t.files.find(T=>T.name===s),p=c?e.files.find(T=>T.name===c):null,b=u?t.files.find(T=>T.name===u):null;return!c&&i===u?{prevNorthFile:f,nextNorthFile:f,prevSouthFile:d,nextSouthFile:b}:!u&&s===c?{prevNorthFile:d,nextNorthFile:d,prevSouthFile:p,nextSouthFile:f}:{prevNorthFile:i===s||n?d:f,nextNorthFile:i===s?f:n?d:f,prevSouthFile:c===u?p:n?p||b:b||p,nextSouthFile:c===u?b:n?p||b:b||p}}function $s(e,t,n){return e.southHeight===null&&t.southHeight===null?{northStyle:{minHeight:e.northHeight}}:e.southHeight!==null&&t.southHeight===null&&t.northKey!==e.southKey?{northStyle:{minHeight:se(e.northHeight,t.northHeight,n)},southStyle:{minHeight:e.southHeight}}:e.southHeight!==null&&t.southHeight===null&&e.southKey===t.northKey?{northStyle:{minHeight:e.northHeight},southStyle:{position:"relative",minHeight:se(e.southHeight,t.northHeight,n),transform:`translateY(${se(0,-(e.northHeight+e.titleBarHeight),n)}px)`}}:e.southHeight===null&&t.southHeight!==null&&e.northKey!==t.southKey?{northStyle:{minHeight:se(e.northHeight,t.northHeight,n)},southStyle:{position:"relative",minHeight:t.southHeight}}:e.southHeight===null&&t.southHeight!==null&&e.northKey===t.southKey?{northStyle:{minHeight:t.northHeight},southStyle:{position:"relative",minHeight:se(e.northHeight,t.southHeight,n),transform:`translateY(${se(-(t.northHeight+t.titleBarHeight),0,n)}px)`}}:{northStyle:{minHeight:se(e.northHeight,t.northHeight,n)},southStyle:{minHeight:se(e.southHeight,t.southHeight,n)}}}function se(e,t,n){return e+(t-e)*n}function Rs(e,t,n,r,o){return!e.southTabs&&ve(r,e.northTabs)?{northTabs:me(t.northTabs,t.southTabs,e.southTabs,e.northTabs,n,o),southTabs:me(t.southTabs,t.northTabs,e.northTabs,e.southTabs,r,o)}:!t.southTabs&&ve(r,t.northTabs)?{northTabs:me(t.southTabs,t.northTabs,e.northTabs,e.southTabs,n,o),southTabs:me(t.northTabs,t.southTabs,e.southTabs,e.northTabs,r,o)}:{northTabs:me(t.northTabs,t.southTabs,e.northTabs,e.southTabs,n,o),southTabs:me(t.southTabs,t.northTabs,e.southTabs,e.northTabs,r,o)}}function me(e,t,n,r,o,i){let s=e?Object.keys(e).filter(d=>ve(d,n)||!n).map(d=>{let f=n&&n[d],p=e[d],b=f?f.left+(p.left-f.left)*i:p.left,g=f?f.width+(p.width-f.width)*i:p.width;return{active:d===o,title:d,style:{position:"absolute",transform:`translateX(${b}px)`,width:g}}}):[],c=e?Object.keys(e).filter(d=>n&&!ve(d,n)).map(d=>{let f=e[d];return{active:d===o,title:d,style:{position:"absolute",transform:`translateX(${f.left}px)`,opacity:i,width:f.width}}}):[];e&&Object.keys(e).filter(d=>ve(d,r)).map(d=>{let f=r[d],b=e[d].left-f.left;return{active:d===o,title:d,style:{position:"absolute",transform:`translateX(${b}px)`}}});let u=n?Object.keys(n).filter(d=>!ve(d,e)).map(d=>{let f=n[d];return{active:d===o,title:d,style:{position:"absolute",opacity:1-i,transform:`translateX(${f.left}px)`,width:f.width}}}):[];return[...c,...s,...u]}function ve(e,t){return t&&e&&e in t}var Mn=typeof window<"u"?a.default.useLayoutEffect:a.default.useEffect;function zs(e,t,n){let[{prevSnapshot:r,nextSnapshot:o},i]=a.default.useState({prevSnapshot:null,nextSnapshot:null});return Mn(()=>{(r||o)&&i({prevSnapshot:null,nextSnapshot:null})},[t,n]),Mn(()=>{if(r){if(!o){let s=e.current;i(c=>Object.assign(Object.assign({},c),{nextSnapshot:Object.assign(Object.assign({},$n(s,n)),Rn(s,n))}))}}else{let s=e.current;i(c=>Object.assign(Object.assign({},c),{prevSnapshot:Object.assign(Object.assign({},$n(s,t)),Rn(s,t))}))}}),{prevSnapshot:r,nextSnapshot:o}}function $n(e,t){var n;let r=e.querySelector("[data-ch-panel='north']"),o=e.querySelector("[data-ch-panel='south']");return{titleBarHeight:e.querySelector(".ch-frame-title-bar").getBoundingClientRect().height,northHeight:r.getBoundingClientRect().height,northKey:t.northPanel.active,southHeight:o?.getBoundingClientRect().height||null,southKey:(n=t.southPanel)===null||n===void 0?void 0:n.active}}function Rn(e,t){var n;let r=Array.from(e.querySelectorAll("[data-ch-tab='north']")),o=Array.from(e.querySelectorAll("[data-ch-tab='south']"));return{northTabs:zn(r,t.northPanel.active),southTabs:zn(o,(n=t.southPanel)===null||n===void 0?void 0:n.active)}}function zn(e,t){if(!e[0])return null;let r=e[0].parentElement.getBoundingClientRect().left,o={};return e.forEach(i=>{let s=i.getAttribute("title"),c=i.getBoundingClientRect();o[s]={left:c.left-r,width:c.width,active:s===t}}),o}function Ds({files:e,theme:t,startingFileName:n}){let[r,o]=a.default.useState(()=>e.find(i=>i.name===n));return a.default.createElement("div",{className:"ch-code-browser",style:{color:C(t,w.EditorForeground)}},a.default.createElement(Ws,{files:e,theme:t,activeFile:r,setActiveFile:o}),a.default.createElement(Us,{file:r,theme:t}))}function Ws({theme:e,files:t,activeFile:n,setActiveFile:r}){let o=a.default.useMemo(()=>qs(t),[t]);return a.default.createElement("div",{className:"ch-code-browser-sidebar",style:{borderColor:C(e,w.SideBarBorder),background:C(e,w.SideBarBackground),color:C(e,w.SideBarForeground),["--ch-list-selection-background"]:C(e,w.ListActiveSelectionBackground),["--ch-list-selection-foreground"]:C(e,w.ListActiveSelectionForeground),["--ch-hover-background"]:C(e,w.ListHoverBackground),["--ch-hover-foreground"]:C(e,w.ListHoverForeground)}},a.default.createElement(sr,{tree:o,activeFile:n,setActiveFile:r}))}function sr({tree:e,activeFile:t,setActiveFile:n,level:r=0}){return a.default.createElement(a.default.Fragment,null,e.map(o=>a.default.createElement(Gs,{key:o.name,node:o,activeFile:t,setActiveFile:n,level:r})))}function Gs({node:e,activeFile:t,setActiveFile:n,level:r}){let o=e.children&&e.children.length>0,i=e.codeFile===t;return o?a.default.createElement("div",null,a.default.createElement("div",{className:"ch-code-browser-sidebar-folder"},a.default.createElement("div",{style:{paddingLeft:r*1.5+"ch"}},e.name)),a.default.createElement(sr,{tree:e.children,activeFile:t,setActiveFile:n,level:r+1})):a.default.createElement("div",null,a.default.createElement("div",{className:"ch-code-browser-sidebar-file",onClick:()=>n(e.codeFile),style:i?{color:"var(--ch-list-selection-foreground)",background:"var(--ch-list-selection-background)"}:{}},a.default.createElement("div",{style:{paddingLeft:r*1.5+"ch"}},e.name)))}function Us({file:e,theme:t}){return a.default.createElement("div",{className:"ch-code-browser-content",style:{background:C(t,w.CodeBackground),color:C(t,w.CodeForeground),["--ch-selection-background"]:C(t,w.SelectionBackground)}},e.code.lines.map((n,r)=>a.default.createElement("div",{key:r},n.tokens.map((o,i)=>a.default.createElement("span",Object.assign({key:i},o.props),o.content)))))}function qs(e){let t=[];for(let n of e){let r=n.name.split("/"),o=t;for(let i=0;i<r.length;i++){let s=r[i],c=i===r.length-1,u=o.findIndex(d=>d.name===s);if(u===-1){let d={name:s,children:[],codeFile:void 0};c&&(d.codeFile=n),o.push(d),o=d.children}else o=o[u].children}}return t=ar(t),t}function ar(e){for(let t of e)t.children=ar(t.children);return e.sort((t,n)=>{let r=t.children&&t.children.length>0,o=n.children&&n.children.length>0;return r&&o||!r&&!o?t.name.localeCompare(n.name):r?-1:1})}function Xs({style:e,step:t,theme:n,className:r}){let[o,i]=a.default.useState(!1),[s,c]=a.default.useState(!0),u=a.default.useRef(null),d=t.files;return a.default.useEffect(()=>{u.current&&!u.current.showModal&&c(!1)},[]),s?a.default.createElement(a.default.Fragment,null,a.default.createElement(Js,{className:r,style:e,onClick:()=>{u.current.showModal(),document.body.classList.add("ch-no-scroll"),i(!0)}}),a.default.createElement("dialog",{ref:u,className:"ch-expand-dialog",onClose:()=>{i(!1)},onClick:f=>{f.currentTarget===f.target&&(u.current.close(),document.body.classList.remove("ch-no-scroll"))}},a.default.createElement(Ys,{onClick:()=>{u.current.close(),document.body.classList.remove("ch-no-scroll")}}),o?a.default.createElement("div",{className:"ch-expand-dialog-content",style:{borderColor:C(n,w.SideBarBorder)}},a.default.createElement(Ds,{files:d,theme:n,startingFileName:t.northPanel.active})):void 0)):null}function Js({onClick:e,style:t,className:n}){return a.default.createElement("svg",{style:t,onClick:e,className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"button"},a.default.createElement("title",null,"Expand"),a.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"}))}function Ys({onClick:e}){return a.default.createElement("svg",{onClick:e,className:"ch-expand-close",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"button"},a.default.createElement("title",null,"Close"),a.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))}var Ks={files:[{code:{lines:[],lang:"js"},focus:"",name:""}],northPanel:{active:"",tabs:[""],heightRatio:1}};function Zs(e){var{prev:t=Ks,next:n,t:r,backward:o,codeConfig:i,frameProps:s={}}=e,c=j(e,["prev","next","t","backward","codeConfig","frameProps"]);let u=a.default.createRef(),{showCopyButton:d,showExpandButton:f}=i,p=j(i,["showCopyButton","showExpandButton"]),{northPanel:b,southPanel:g,northContent:y,southContent:x}=Ps(u,t,n||t,r,o,p),[k,S]=a.default.useState(void 0);Kn(()=>{var R;let Z=(R=u.current)===null||R===void 0?void 0:R.getBoundingClientRect().height;S(Z)},[]);let F=Object.assign(Object.assign(Object.assign({},s),c),{style:Object.assign(Object.assign({},s?.style),c?.style)});k&&(F.style.height=k,F.style.maxHeight=k);let T=a.default.createElement(a.default.Fragment,null,d?a.default.createElement(St,{className:"ch-editor-button",content:y}):void 0,f?a.default.createElement(Xs,{className:"ch-editor-button",step:n||t,theme:i.theme}):void 0),_=d?a.default.createElement(St,{className:"ch-editor-button",content:x}):void 0,$=a.default.createElement(As,{prev:t.terminal,next:(n||t).terminal,t:r,backward:o});return a.default.createElement(Ts,Object.assign({ref:u},F,{northPanel:b,southPanel:g,terminalPanel:$,theme:i.theme,northButton:T,southButton:_}))}var Vs={stiffness:120,damping:24,mass:.2,decimals:3};function lr(e){var{northPanel:t,southPanel:n,files:r,terminal:o,springConfig:i}=e,s=j(e,["northPanel","southPanel","files","terminal","springConfig"]);let c=a.default.useMemo(()=>({northPanel:t,southPanel:n,files:r,terminal:o}),[t,n,r,o]),{prev:u,next:d,t:f}=Qs(c,i);return a.default.createElement(Zs,Object.assign({t:f,backward:!1,prev:u,next:d},s))}function Qs(e,t=Vs){let[{target:n,steps:r,index:o},i]=a.default.useState({target:2,steps:[e,e,e],index:0});a.default.useEffect(()=>{r[r.length-1]!=e&&i(f=>ea(f,e,s))},[e]);let[s]=At(n,t),c=s-o;return c<=1?{prev:r[0],next:r[1],t:c}:{prev:r[1],next:r[2],t:c-1}}function ea(e,t,n){let{steps:r,target:o,index:i}=e,s=r.slice();return n-i<1?(s[2]=t,Object.assign(Object.assign({},e),{steps:s})):(s[0]=r[1],s[1]=r[2],s[2]=t,Object.assign(Object.assign({},e),{steps:s,target:o+1,index:i+1}))}function cr(e){let[t,n]=a.default.useState(e);function r(o){let i=Ee(t,o,null);n(Object.assign(Object.assign({},t),i))}return a.default.createElement(Ne,Object.assign({},t,{onTabClick:r}))}function ta(e){var t,n,r,o,i,s,c;let{lineNumbers:u,showCopyButton:d,showExpandButton:f,minZoom:p,maxZoom:b}=e,g=j(e,["lineNumbers","showCopyButton","showExpandButton","minZoom","maxZoom"]),y=Object.assign(Object.assign({},e.codeConfig),{maxZoom:b??((t=e.codeConfig)===null||t===void 0?void 0:t.maxZoom),minZoom:p??((n=e.codeConfig)===null||n===void 0?void 0:n.minZoom),horizontalCenter:(o=(r=e.codeConfig)===null||r===void 0?void 0:r.horizontalCenter)!==null&&o!==void 0?o:e.horizontalCenter,lineNumbers:u??((i=e.codeConfig)===null||i===void 0?void 0:i.lineNumbers),showCopyButton:d??((s=e.codeConfig)===null||s===void 0?void 0:s.showCopyButton),showExpandButton:f??((c=e.codeConfig)===null||c===void 0?void 0:c.showExpandButton)});return Object.assign(Object.assign({},g),{codeConfig:y})}function Ne(e){var{onTabClick:t}=e,n=j(e,["onTabClick"]);let r=ta(n),{className:o,style:i,codeConfig:s}=r,c=j(r,["className","style","codeConfig"]);if(!n.southPanel&&n.files.length===1&&!n.files[0].name)return a.default.createElement("div",{className:`ch-codeblock not-prose ${o||""}`,style:i},a.default.createElement(Es,{className:"ch-code",config:s,step:c.files[0]}));{let u=Object.assign(Object.assign({},c?.frameProps),{onTabClick:t});return a.default.createElement("div",{className:`ch-codegroup not-prose ${o||""}`,style:i},a.default.createElement(lr,Object.assign({},c,{frameProps:u,codeConfig:s})))}}function Ee(e,t,n){let r=t||e.northPanel.active,o=e.files.map(c=>c.name===r?Object.assign(Object.assign({},c),{focus:n===null?c.focus:n}):c),i=Object.assign({},e.northPanel),s=e.southPanel&&Object.assign({},e.southPanel);return e.northPanel.tabs.includes(r)?i.active=r:s&&(s.active=r),{files:o,northPanel:i,southPanel:s}}var ur=a.default.createContext({props:null,setFocus:()=>{}});function dr(e){var{children:t}=e,n=j(e,["children"]);let[r,o]=a.default.useState(n),i=()=>o(n),s=({fileName:u,focus:d,id:f})=>{let p=Ee(r,u,d);o(Object.assign(Object.assign(Object.assign({},r),p),{selectedId:f}))},c=j(r,["selectedId"]);return a.default.createElement("section",null,a.default.createElement(ur.Provider,{value:{props:c,setFocus:s}},a.default.createElement(gr,{onActivation:s,onReset:i},t)))}function fr(e){let{props:t,setFocus:n}=a.default.useContext(ur),r=o=>{n({fileName:o,focus:null,id:""})};return a.default.createElement(Ne,Object.assign({},e,t,{onTabClick:r}))}function hr({focus:e,file:t,children:n,id:r}){let{activate:o,reset:i,activatedId:s}=a.default.useContext(pr),c=s===r;return a.default.createElement("span",{className:"ch-section-link","data-active":c,children:n,onMouseOver:()=>o({fileName:t,focus:e,id:r}),onMouseOut:i})}var pr=a.default.createContext({activatedId:void 0,activate:()=>{},reset:()=>{}});function gr({onActivation:e,onReset:t,children:n}){let[r,o]=a.default.useState(void 0),i=a.default.useCallback(c=>{o(c.id),e(c)},[e]),s=a.default.useCallback(()=>{o(void 0),t()},[t]);return a.default.createElement(pr.Provider,{value:{activate:i,reset:s,activatedId:r}},n)}function na(){let e=te("ch-browser");return a.default.createElement("svg",{fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:"1em",viewBox:"13 10 14 23",className:e("button","back-button")},a.default.createElement("g",null,a.default.createElement("path",{d:"m26.5 12.1q0 0.3-0.2 0.6l-8.8 8.7 8.8 8.8q0.2 0.2 0.2 0.5t-0.2 0.5l-1.1 1.1q-0.3 0.3-0.6 0.3t-0.5-0.3l-10.4-10.4q-0.2-0.2-0.2-0.5t0.2-0.5l10.4-10.4q0.3-0.2 0.5-0.2t0.6 0.2l1.1 1.1q0.2 0.2 0.2 0.5z"})))}function ra(){let e=te("ch-browser");return a.default.createElement("svg",{fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:"1em",viewBox:"13 10 14 23",className:e("button","forward-button")},a.default.createElement("g",null,a.default.createElement("path",{d:"m26.3 21.4q0 0.3-0.2 0.5l-10.4 10.4q-0.3 0.3-0.6 0.3t-0.5-0.3l-1.1-1.1q-0.2-0.2-0.2-0.5t0.2-0.5l8.8-8.8-8.8-8.7q-0.2-0.3-0.2-0.6t0.2-0.5l1.1-1.1q0.3-0.2 0.5-0.2t0.6 0.2l10.4 10.4q0.2 0.2 0.2 0.5z"})))}function oa({href:e,style:t}){let n=te("ch-browser");return a.default.createElement("a",{className:n("button","open-button"),title:"Open in new tab",href:e,style:t,target:"_blank",rel:"noopener noreferrer"},a.default.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"3 3 18 18",height:"1em",width:"1em",className:n("open-icon"),xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"})))}function ia({url:e,linkUrl:t,theme:n}){let r=C(n,w.InputBorder);return a.default.createElement(a.default.Fragment,null,a.default.createElement(Ht,null),a.default.createElement(na,null),a.default.createElement(ra,null),a.default.createElement("input",{value:e||"",readOnly:!0,style:{background:C(n,w.InputBackground),color:C(n,w.InputForeground),border:r?`1px solid ${r}`:void 0}}),a.default.createElement(oa,{href:t,style:{color:C(n,w.EditorForeground)}}))}function sa(e){return a.default.useMemo(()=>e?e.map(t=>{let{displayUrl:n,loadUrl:r}=aa(t.url,t.loadUrl,t.prependOrigin);return{zoom:t.zoom||1,displayUrl:n,loadUrl:r,children:t.children}}):[{zoom:1}],[e])}function aa(e,t,n){let r=typeof window<"u"?window.origin:"",o=e&&n===!0?r+e:e;return{displayUrl:o,loadUrl:t||o}}var la=a.default.forwardRef(ca);function ca(e,t){var{progress:n=0,backward:r=!1,steps:o,transition:i="none",classes:s,theme:c}=e,u=j(e,["progress","backward","steps","transition","classes","theme"]);let d=te("ch-mini-browser",s),f=sa(o),p=Math.round(n),{zoom:b,displayUrl:g,loadUrl:y,children:x}=f[p];return a.default.createElement(Ss,Object.assign({},u,{zoom:b,className:`${d("")} ${u.className||""}`,style:Object.assign(Object.assign({},ua({progress:n,transition:i})),u.style),classes:s,titleBar:a.default.createElement(ia,{url:g,linkUrl:y,theme:c}),theme:c}),x||a.default.createElement("iframe",{ref:t,src:y}))}function ua({progress:e,transition:t}){if(t==="slide"){let r=e-Math.floor(e),o=r<=.5?-50*r:50-50*r,i=Math.abs(r-.5)*2;return{transform:`translateX(${o}px)`,opacity:i*i}}return{}}function mr(e){var{url:t,loadUrl:n,prependOrigin:r,children:o,zoom:i}=e,s=j(e,["url","loadUrl","prependOrigin","children","zoom"]);let[c,u]=da({url:t,loadUrl:n,prependOrigin:r,children:o,zoom:i});return a.default.createElement(la,Object.assign({},s,{steps:c,progress:u}))}function da({url:e,loadUrl:t,prependOrigin:n,children:r,zoom:o}){let[i,s]=a.default.useState({target:0,steps:[{url:e,loadUrl:t,prependOrigin:n,children:r,zoom:o}]});a.default.useEffect(()=>{let u=i.steps[i.steps.length-1];(u.url!==e||u.loadUrl!==t||u.prependOrigin!==n||u.children!==r)&&s(d=>({target:d.target+1,steps:[...d.steps,{url:e,loadUrl:t,prependOrigin:n,children:r,zoom:o}]}))},[e,t,n,r,o]);let[c]=At(i.target,{stiffness:100,decimals:3});return[i.steps,c]}var Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});function fa(e){return e==="vue-cli"?"src/main.js":e==="angular-cli"?"src/main.ts":e==="create-react-app-typescript"?"src/index.tsx":e==="parcel"?"index.html":e==="gatsby"?"src/pages/index.js":e==="nuxt"||e==="next"||e==="apollo"||e==="reason"||e==="sapper"?"package.json":e==="nest"?"src/main.ts":e==="static"?"index.html":"src/index.js"}Mt.getMainFile=fa;var Dn="sandbox.config.json";function ha(e,t){var n=t[Dn]||t["/"+Dn];if(n)try{var r=JSON.parse(n.content);if(r.template)return r.template}catch{}var o=e.dependencies,i=o===void 0?{}:o,s=e.devDependencies,c=s===void 0?{}:s,u=Object.keys(i).concat(Object.keys(c)),d=["nuxt","nuxt-edge"];if(u.some(function(g){return d.indexOf(g)>-1}))return"nuxt";if(u.indexOf("next")>-1)return"next";var f=["apollo-server","apollo-server-express","apollo-server-hapi","apollo-server-koa","apollo-server-lambda","apollo-server-micro"];if(u.some(function(g){return f.indexOf(g)>-1}))return"apollo";if(u.indexOf("ember-cli")>-1)return"ember";if(u.indexOf("sapper")>-1)return"sapper";var p=Object.keys(t);if(p.some(function(g){return g.endsWith(".vue")}))return"vue-cli";if(p.some(function(g){return g.endsWith(".re")}))return"reason";if(u.indexOf("gatsby")>-1)return"gatsby";if(u.indexOf("parcel-bundler")>-1)return"parcel";if(u.indexOf("react-scripts")>-1)return"create-react-app";if(u.indexOf("react-scripts-ts")>-1)return"create-react-app-typescript";if(u.indexOf("@angular/core")>-1)return"angular-cli";if(u.indexOf("preact-cli")>-1)return"preact-cli";if(u.indexOf("svelte")>-1)return"svelte";if(u.indexOf("vue")>-1)return"vue-cli";var b=["@dojo/core","@dojo/framework"];if(u.some(function(g){return b.indexOf(g)>-1}))return"@dojo/cli-create-app";if(u.indexOf("cx")>-1)return"cxjs";if(u.indexOf("@nestjs/core")>-1||u.indexOf("@nestjs/common")>-1)return"nest"}var pa=Mt.getTemplate=ha,Bt={exports:{}};(function(e,t){var n=200,r="__lodash_hash_undefined__",o=1,i=2,s=9007199254740991,c="[object Arguments]",u="[object Array]",d="[object AsyncFunction]",f="[object Boolean]",p="[object Date]",b="[object Error]",g="[object Function]",y="[object GeneratorFunction]",x="[object Map]",k="[object Number]",S="[object Null]",F="[object Object]",T="[object Promise]",_="[object Proxy]",$="[object RegExp]",R="[object Set]",Z="[object String]",it="[object Symbol]",st="[object Undefined]",Ce="[object WeakMap]",He="[object ArrayBuffer]",pe="[object DataView]",at="[object Float32Array]",Pe="[object Float64Array]",lt="[object Int8Array]",ct="[object Int16Array]",Br="[object Int32Array]",Ir="[object Uint8Array]",Lr="[object Uint8ClampedArray]",Nr="[object Uint16Array]",_r="[object Uint32Array]",Ar=/[\\^$.*+?()[\]{}|]/g,Hr=/^\[object .+?Constructor\]$/,Pr=/^(?:0|[1-9]\d*)$/,B={};B[at]=B[Pe]=B[lt]=B[ct]=B[Br]=B[Ir]=B[Lr]=B[Nr]=B[_r]=!0,B[c]=B[u]=B[He]=B[f]=B[pe]=B[p]=B[b]=B[g]=B[x]=B[k]=B[F]=B[$]=B[R]=B[Z]=B[Ce]=!1;var $t=typeof Ze=="object"&&Ze&&Ze.Object===Object&&Ze,Mr=typeof self=="object"&&self&&self.Object===Object&&self,V=$t||Mr||Function("return this")(),Rt=t&&!t.nodeType&&t,zt=Rt&&!0&&e&&!e.nodeType&&e,Dt=zt&&zt.exports===Rt,ut=Dt&&$t.process,Wt=function(){try{return ut&&ut.binding&&ut.binding("util")}catch{}}(),Gt=Wt&&Wt.isTypedArray;function $r(l,h){for(var m=-1,E=l==null?0:l.length,I=0,O=[];++m<E;){var N=l[m];h(N,m,l)&&(O[I++]=N)}return O}function Rr(l,h){for(var m=-1,E=h.length,I=l.length;++m<E;)l[I+m]=h[m];return l}function zr(l,h){for(var m=-1,E=l==null?0:l.length;++m<E;)if(h(l[m],m,l))return!0;return!1}function Dr(l,h){for(var m=-1,E=Array(l);++m<l;)E[m]=h(m);return E}function Wr(l){return function(h){return l(h)}}function Gr(l,h){return l.has(h)}function Ur(l,h){return l?.[h]}function qr(l){var h=-1,m=Array(l.size);return l.forEach(function(E,I){m[++h]=[I,E]}),m}function Xr(l,h){return function(m){return l(h(m))}}function Jr(l){var h=-1,m=Array(l.size);return l.forEach(function(E){m[++h]=E}),m}var Yr=Array.prototype,Kr=Function.prototype,Me=Object.prototype,dt=V["__core-js_shared__"],Ut=Kr.toString,Y=Me.hasOwnProperty,qt=function(){var l=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Xt=Me.toString,Zr=RegExp("^"+Ut.call(Y).replace(Ar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jt=Dt?V.Buffer:void 0,$e=V.Symbol,Yt=V.Uint8Array,Kt=Me.propertyIsEnumerable,Vr=Yr.splice,le=$e?$e.toStringTag:void 0,Zt=Object.getOwnPropertySymbols,Qr=Jt?Jt.isBuffer:void 0,eo=Xr(Object.keys,Object),ft=ge(V,"DataView"),ke=ge(V,"Map"),ht=ge(V,"Promise"),pt=ge(V,"Set"),gt=ge(V,"WeakMap"),Oe=ge(Object,"create"),to=de(ft),no=de(ke),ro=de(ht),oo=de(pt),io=de(gt),Vt=$e?$e.prototype:void 0,mt=Vt?Vt.valueOf:void 0;function ce(l){var h=-1,m=l==null?0:l.length;for(this.clear();++h<m;){var E=l[h];this.set(E[0],E[1])}}function so(){this.__data__=Oe?Oe(null):{},this.size=0}function ao(l){var h=this.has(l)&&delete this.__data__[l];return this.size-=h?1:0,h}function lo(l){var h=this.__data__;if(Oe){var m=h[l];return m===r?void 0:m}return Y.call(h,l)?h[l]:void 0}function co(l){var h=this.__data__;return Oe?h[l]!==void 0:Y.call(h,l)}function uo(l,h){var m=this.__data__;return this.size+=this.has(l)?0:1,m[l]=Oe&&h===void 0?r:h,this}ce.prototype.clear=so,ce.prototype.delete=ao,ce.prototype.get=lo,ce.prototype.has=co,ce.prototype.set=uo;function Q(l){var h=-1,m=l==null?0:l.length;for(this.clear();++h<m;){var E=l[h];this.set(E[0],E[1])}}function fo(){this.__data__=[],this.size=0}function ho(l){var h=this.__data__,m=ze(h,l);if(m<0)return!1;var E=h.length-1;return m==E?h.pop():Vr.call(h,m,1),--this.size,!0}function po(l){var h=this.__data__,m=ze(h,l);return m<0?void 0:h[m][1]}function go(l){return ze(this.__data__,l)>-1}function mo(l,h){var m=this.__data__,E=ze(m,l);return E<0?(++this.size,m.push([l,h])):m[E][1]=h,this}Q.prototype.clear=fo,Q.prototype.delete=ho,Q.prototype.get=po,Q.prototype.has=go,Q.prototype.set=mo;function ue(l){var h=-1,m=l==null?0:l.length;for(this.clear();++h<m;){var E=l[h];this.set(E[0],E[1])}}function vo(){this.size=0,this.__data__={hash:new ce,map:new(ke||Q),string:new ce}}function bo(l){var h=De(this,l).delete(l);return this.size-=h?1:0,h}function yo(l){return De(this,l).get(l)}function wo(l){return De(this,l).has(l)}function xo(l,h){var m=De(this,l),E=m.size;return m.set(l,h),this.size+=m.size==E?0:1,this}ue.prototype.clear=vo,ue.prototype.delete=bo,ue.prototype.get=yo,ue.prototype.has=wo,ue.prototype.set=xo;function Re(l){var h=-1,m=l==null?0:l.length;for(this.__data__=new ue;++h<m;)this.add(l[h])}function Eo(l){return this.__data__.set(l,r),this}function Co(l){return this.__data__.has(l)}Re.prototype.add=Re.prototype.push=Eo,Re.prototype.has=Co;function ne(l){var h=this.__data__=new Q(l);this.size=h.size}function ko(){this.__data__=new Q,this.size=0}function Oo(l){var h=this.__data__,m=h.delete(l);return this.size=h.size,m}function So(l){return this.__data__.get(l)}function To(l){return this.__data__.has(l)}function Fo(l,h){var m=this.__data__;if(m instanceof Q){var E=m.__data__;if(!ke||E.length<n-1)return E.push([l,h]),this.size=++m.size,this;m=this.__data__=new ue(E)}return m.set(l,h),this.size=m.size,this}ne.prototype.clear=ko,ne.prototype.delete=Oo,ne.prototype.get=So,ne.prototype.has=To,ne.prototype.set=Fo;function jo(l,h){var m=We(l),E=!m&&Go(l),I=!m&&!E&&vt(l),O=!m&&!E&&!I&&ln(l),N=m||E||I||O,H=N?Dr(l.length,String):[],z=H.length;for(var L in l)(h||Y.call(l,L))&&!(N&&(L=="length"||I&&(L=="offset"||L=="parent")||O&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||$o(L,z)))&&H.push(L);return H}function ze(l,h){for(var m=l.length;m--;)if(rn(l[m][0],h))return m;return-1}function Bo(l,h,m){var E=h(l);return We(l)?E:Rr(E,m(l))}function Se(l){return l==null?l===void 0?st:S:le&&le in Object(l)?Po(l):Wo(l)}function Qt(l){return Te(l)&&Se(l)==c}function en(l,h,m,E,I){return l===h?!0:l==null||h==null||!Te(l)&&!Te(h)?l!==l&&h!==h:Io(l,h,m,E,en,I)}function Io(l,h,m,E,I,O){var N=We(l),H=We(h),z=N?u:re(l),L=H?u:re(h);z=z==c?F:z,L=L==c?F:L;var G=z==F,X=L==F,D=z==L;if(D&&vt(l)){if(!vt(h))return!1;N=!0,G=!1}if(D&&!G)return O||(O=new ne),N||ln(l)?tn(l,h,m,E,I,O):Ao(l,h,z,m,E,I,O);if(!(m&o)){var U=G&&Y.call(l,"__wrapped__"),q=X&&Y.call(h,"__wrapped__");if(U||q){var oe=U?l.value():l,ee=q?h.value():h;return O||(O=new ne),I(oe,ee,m,E,O)}}return D?(O||(O=new ne),Ho(l,h,m,E,I,O)):!1}function Lo(l){if(!an(l)||zo(l))return!1;var h=on(l)?Zr:Hr;return h.test(de(l))}function No(l){return Te(l)&&sn(l.length)&&!!B[Se(l)]}function _o(l){if(!Do(l))return eo(l);var h=[];for(var m in Object(l))Y.call(l,m)&&m!="constructor"&&h.push(m);return h}function tn(l,h,m,E,I,O){var N=m&o,H=l.length,z=h.length;if(H!=z&&!(N&&z>H))return!1;var L=O.get(l);if(L&&O.get(h))return L==h;var G=-1,X=!0,D=m&i?new Re:void 0;for(O.set(l,h),O.set(h,l);++G<H;){var U=l[G],q=h[G];if(E)var oe=N?E(q,U,G,h,l,O):E(U,q,G,l,h,O);if(oe!==void 0){if(oe)continue;X=!1;break}if(D){if(!zr(h,function(ee,fe){if(!Gr(D,fe)&&(U===ee||I(U,ee,m,E,O)))return D.push(fe)})){X=!1;break}}else if(!(U===q||I(U,q,m,E,O))){X=!1;break}}return O.delete(l),O.delete(h),X}function Ao(l,h,m,E,I,O,N){switch(m){case pe:if(l.byteLength!=h.byteLength||l.byteOffset!=h.byteOffset)return!1;l=l.buffer,h=h.buffer;case He:return!(l.byteLength!=h.byteLength||!O(new Yt(l),new Yt(h)));case f:case p:case k:return rn(+l,+h);case b:return l.name==h.name&&l.message==h.message;case $:case Z:return l==h+"";case x:var H=qr;case R:var z=E&o;if(H||(H=Jr),l.size!=h.size&&!z)return!1;var L=N.get(l);if(L)return L==h;E|=i,N.set(l,h);var G=tn(H(l),H(h),E,I,O,N);return N.delete(l),G;case it:if(mt)return mt.call(l)==mt.call(h)}return!1}function Ho(l,h,m,E,I,O){var N=m&o,H=nn(l),z=H.length,L=nn(h),G=L.length;if(z!=G&&!N)return!1;for(var X=z;X--;){var D=H[X];if(!(N?D in h:Y.call(h,D)))return!1}var U=O.get(l);if(U&&O.get(h))return U==h;var q=!0;O.set(l,h),O.set(h,l);for(var oe=N;++X<z;){D=H[X];var ee=l[D],fe=h[D];if(E)var cn=N?E(fe,ee,D,h,l,O):E(ee,fe,D,l,h,O);if(!(cn===void 0?ee===fe||I(ee,fe,m,E,O):cn)){q=!1;break}oe||(oe=D=="constructor")}if(q&&!oe){var Ge=l.constructor,Ue=h.constructor;Ge!=Ue&&"constructor"in l&&"constructor"in h&&!(typeof Ge=="function"&&Ge instanceof Ge&&typeof Ue=="function"&&Ue instanceof Ue)&&(q=!1)}return O.delete(l),O.delete(h),q}function nn(l){return Bo(l,Xo,Mo)}function De(l,h){var m=l.__data__;return Ro(h)?m[typeof h=="string"?"string":"hash"]:m.map}function ge(l,h){var m=Ur(l,h);return Lo(m)?m:void 0}function Po(l){var h=Y.call(l,le),m=l[le];try{l[le]=void 0;var E=!0}catch{}var I=Xt.call(l);return E&&(h?l[le]=m:delete l[le]),I}var Mo=Zt?function(l){return l==null?[]:(l=Object(l),$r(Zt(l),function(h){return Kt.call(l,h)}))}:Jo,re=Se;(ft&&re(new ft(new ArrayBuffer(1)))!=pe||ke&&re(new ke)!=x||ht&&re(ht.resolve())!=T||pt&&re(new pt)!=R||gt&&re(new gt)!=Ce)&&(re=function(l){var h=Se(l),m=h==F?l.constructor:void 0,E=m?de(m):"";if(E)switch(E){case to:return pe;case no:return x;case ro:return T;case oo:return R;case io:return Ce}return h});function $o(l,h){return h=h??s,!!h&&(typeof l=="number"||Pr.test(l))&&l>-1&&l%1==0&&l<h}function Ro(l){var h=typeof l;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?l!=="__proto__":l===null}function zo(l){return!!qt&&qt in l}function Do(l){var h=l&&l.constructor,m=typeof h=="function"&&h.prototype||Me;return l===m}function Wo(l){return Xt.call(l)}function de(l){if(l!=null){try{return Ut.call(l)}catch{}try{return l+""}catch{}}return""}function rn(l,h){return l===h||l!==l&&h!==h}var Go=Qt(function(){return arguments}())?Qt:function(l){return Te(l)&&Y.call(l,"callee")&&!Kt.call(l,"callee")},We=Array.isArray;function Uo(l){return l!=null&&sn(l.length)&&!on(l)}var vt=Qr||Yo;function qo(l,h){return en(l,h)}function on(l){if(!an(l))return!1;var h=Se(l);return h==g||h==y||h==d||h==_}function sn(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=s}function an(l){var h=typeof l;return l!=null&&(h=="object"||h=="function")}function Te(l){return l!=null&&typeof l=="object"}var ln=Gt?Wr(Gt):No;function Xo(l){return Uo(l)?jo(l):_o(l)}function Jo(){return[]}function Yo(){return!1}e.exports=qo})(Bt,Bt.exports);var ga=Bt.exports,Wn=()=>Math.floor(Math.random()*1e6+Math.random()*1e6),ma=e=>{try{return e.constructor.name}catch{return""}},va=class{constructor(e,t,n){this.type=e,this.handleMessage=t,this.target=n,this.outgoingMessages=new Set,this._messageListener=async r=>{var o;let{data:i}=r;if(i.$type!==this.getTypeId()||this.outgoingMessages.has(i.$id))return;let s={$originId:this.internalId,$type:this.getTypeId(),$id:i.$id};try{let c=await this.handleMessage(i.$data);s.$data=c}catch(c){c.message||console.error(c),s.$error={message:(o=c.message)!=null?o:"Unknown error"}}r.source?r.source.postMessage(s,"*"):this._postMessage(s)},this.createConnection(),this.internalId=Wn(),this.isWorker=ma(n)==="Worker"}getTypeId(){return`p-${this.type}`}createConnection(){self.addEventListener("message",this._messageListener)}dispose(){self.removeEventListener("message",this._messageListener)}sendMessage(e){return new Promise(t=>{let n=Wn(),r={$originId:this.internalId,$type:this.getTypeId(),$data:e,$id:n};this.outgoingMessages.add(n);let o=i=>{let{data:s}=i;s.$type===this.getTypeId()&&s.$id===n&&s.$originId!==this.internalId&&(t(s.$data),self.removeEventListener("message",o))};self.addEventListener("message",o),this._postMessage(r)})}_postMessage(e){this.isWorker||typeof DedicatedWorkerGlobalScope<"u"&&this.target instanceof DedicatedWorkerGlobalScope?this.target.postMessage(e):this.target.postMessage(e,"*")}},ba=class{constructor(e,t){this.globalListeners={},this.globalListenersCount=0,this.channelListeners={},this.channelListenersCount=0,this.channelId=Math.floor(Math.random()*1e6),this.frameWindow=e.contentWindow,this.origin=t,this.globalListeners=[],this.channelListeners=[],this.eventListener=this.eventListener.bind(this),typeof window<"u"&&window.addEventListener("message",this.eventListener)}cleanup(){window.removeEventListener("message",this.eventListener),this.globalListeners={},this.channelListeners={},this.globalListenersCount=0,this.channelListenersCount=0}register(){!this.frameWindow||this.frameWindow.postMessage({type:"register-frame",origin:document.location.origin,id:this.channelId},this.origin)}dispatch(e){!this.frameWindow||this.frameWindow.postMessage({$id:this.channelId,codesandbox:!0,...e},this.origin)}globalListen(e){if(typeof e!="function")return()=>{};let t=this.globalListenersCount;return this.globalListeners[t]=e,this.globalListenersCount++,()=>{delete this.globalListeners[t]}}channelListen(e){if(typeof e!="function")return()=>{};let t=this.channelListenersCount;return this.channelListeners[t]=e,this.channelListenersCount++,()=>{delete this.channelListeners[t]}}eventListener(e){if(e.source!==this.frameWindow)return;let t=e.data;!t.codesandbox||(Object.values(this.globalListeners).forEach(n=>n(t)),t.$id===this.channelId&&Object.values(this.channelListeners).forEach(n=>n(t)))}};function vr(e={},t={},n="/index.js"){return JSON.stringify({name:"sandpack-project",main:n,dependencies:e,devDependencies:t},null,2)}function ya(e,t,n,r){let o={...e};if(!o["/package.json"]){if(!t)throw new Error("No dependencies specified, please specify either a package.json or dependencies.");if(!r)throw new Error("Missing 'entry' parameter. Either specify an entry point, or pass in a package.json with the 'main' field set.");o["/package.json"]={code:vr(t,n,r)}}return o}function wa(e){if(e.title==="SyntaxError"){let{title:i,path:s,message:c,line:u,column:d}=e;return{title:i,path:s,message:c,line:u,column:d}}let t=xa(e.payload.frames);if(!t)return{message:e.message};let n=Ca(t),r=Ea(t);return{message:ka(t._originalFileName,e.message,r,n),title:e.title,path:t._originalFileName,line:t._originalLineNumber,column:t._originalColumnNumber}}function xa(e){if(!!e)return e.find(t=>!!t._originalFileName)}function Ea(e){return e?` (${e._originalLineNumber}:${e._originalColumnNumber})`:""}function Ca(e){let n=e._originalScriptCode[e._originalScriptCode.length-1].lineNumber.toString().length,r=2,o=3,i=r+n+o+e._originalColumnNumber;return e._originalScriptCode.reduce((s,c)=>{let u=c.highlight?">":" ",d=c.lineNumber.toString().length===n?`${c.lineNumber}`:` ${c.lineNumber}`,f=c.highlight?`
`+" ".repeat(i)+"^":"";return s+`
`+u+" "+d+" | "+c.content+f},"")}function ka(e,t,n,r){return`${e}: ${t}${n}
${r}`}var Oa=`https://${"0.19.0".replace(/\./g,"-")}-sandpack.codesandbox.io/`,Sa=class{constructor(e,t,n={}){this.getTranspilerContext=()=>new Promise(i=>{let s=this.listen(c=>{c.type==="transpiler-context"&&(i(c.data),s())});this.dispatch({type:"get-transpiler-context"})});var r;if(this.options=n,this.sandboxInfo=t,this.bundlerURL=n.bundlerURL||Oa,this.bundlerState=void 0,this.errors=[],this.status="initializing",typeof e=="string"){this.selector=e;let i=document.querySelector(e);if(!i)throw new Error(`No element found for selector '${e}'`);this.element=i,this.iframe=document.createElement("iframe"),this.initializeElement()}else this.element=e,this.iframe=e;this.iframe.getAttribute("sandbox")||this.iframe.setAttribute("sandbox","allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts");let o=n.startRoute?new URL(n.startRoute,this.bundlerURL).toString():this.bundlerURL;(r=this.iframe.contentWindow)==null||r.location.replace(o),this.iframeProtocol=new ba(this.iframe,this.bundlerURL),this.unsubscribeGlobalListener=this.iframeProtocol.globalListen(i=>{i.type!=="initialized"||!this.iframe.contentWindow||(this.iframeProtocol.register(),this.options.fileResolver&&(this.fileResolverProtocol=new va("file-resolver",async s=>s.m==="isFile"?this.options.fileResolver.isFile(s.p):this.options.fileResolver.readFile(s.p),this.iframe.contentWindow)),this.updatePreview(this.sandboxInfo,!0))}),this.unsubscribeChannelListener=this.iframeProtocol.channelListen(i=>{switch(i.type){case"start":{this.errors=[];break}case"status":{this.status=i.status;break}case"action":{i.action==="show-error"&&(this.errors=[...this.errors,wa(i)]);break}case"state":{this.bundlerState=i.state;break}}})}cleanup(){this.unsubscribeChannelListener(),this.unsubscribeGlobalListener(),this.iframeProtocol.cleanup()}updateOptions(e){ga(this.options,e)||(this.options=e,this.updatePreview())}updatePreview(e=this.sandboxInfo,t){var n,r,o,i;this.sandboxInfo={...this.sandboxInfo,...e};let s=this.getFiles(),c=Object.keys(s).reduce((f,p)=>({...f,[p]:{code:s[p].code,path:p}}),{}),u=JSON.parse(vr(this.sandboxInfo.dependencies,this.sandboxInfo.devDependencies,this.sandboxInfo.entry));try{u=JSON.parse(s["/package.json"].code)}catch(f){console.error("Could not parse package.json file: "+f.message)}let d=Object.keys(s).reduce((f,p)=>({...f,[p]:{content:s[p].code,path:p}}),{});this.dispatch({type:"compile",codesandbox:!0,version:3,isInitializationCompile:t,modules:c,reactDevTools:this.options.reactDevTools,externalResources:this.options.externalResources||[],hasFileResolver:Boolean(this.options.fileResolver),disableDependencyPreprocessing:this.sandboxInfo.disableDependencyPreprocessing,template:this.sandboxInfo.template||pa(u,d),showOpenInCodeSandbox:(n=this.options.showOpenInCodeSandbox)!=null?n:!0,showErrorScreen:(r=this.options.showErrorScreen)!=null?r:!0,showLoadingScreen:(o=this.options.showLoadingScreen)!=null?o:!0,skipEval:this.options.skipEval||!1,clearConsoleDisabled:!this.options.clearConsoleOnFirstCompile,logLevel:(i=this.options.logLevel)!=null?i:It.Info})}dispatch(e){this.iframeProtocol.dispatch(e)}listen(e){return this.iframeProtocol.channelListen(e)}getCodeSandboxURL(){let e=this.getFiles(),t=Object.keys(e).reduce((n,r)=>({...n,[r.replace("/","")]:{content:e[r].code,isBinary:!1}}),{});return fetch("https://codesandbox.io/api/v1/sandboxes/define?json=1",{method:"POST",body:JSON.stringify({files:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(n=>n.json()).then(n=>({sandboxId:n.sandbox_id,editorUrl:`https://codesandbox.io/s/${n.sandbox_id}`,embedUrl:`https://codesandbox.io/embed/${n.sandbox_id}`}))}getFiles(){let{sandboxInfo:e}=this;return e.files["/package.json"]===void 0?ya(e.files,e.dependencies,e.devDependencies,e.entry):this.sandboxInfo.files}initializeElement(){if(this.iframe.style.border="0",this.iframe.style.width=this.options.width||"100%",this.iframe.style.height=this.options.height||"100%",this.iframe.style.overflow="hidden",!this.element.parentNode)throw new Error("Given element does not have a parent.");this.element.parentNode.replaceChild(this.iframe,this.element)}},It;(function(e){e[e.None=0]="None",e[e.Error=10]="Error",e[e.Warning=20]="Warning",e[e.Info=30]="Info",e[e.Debug=40]="Debug"})(It||(It={}));function _e(e){var{className:t,files:n,presetConfig:r,show:o,children:i,codeConfig:s,style:c}=e,u=j(e,["className","files","presetConfig","show","children","codeConfig","style"]);return a.default.createElement("div",{className:"ch-preview"+(t?" "+t:""),style:c},a.default.createElement(mr,Object.assign({loadUrl:o,theme:s.theme},u,{children:r?a.default.createElement(Ta,{files:n,presetConfig:r}):i})))}function Ta({files:e,presetConfig:t}){let n=a.default.useRef(null),r=a.default.useRef(null);return a.default.useEffect(()=>{r.current=new Sa(n.current,Object.assign(Object.assign({},t),{files:Gn(t.files,e)}),{showOpenInCodeSandbox:!1})},[]),a.default.useEffect(()=>{r.current&&r.current.updatePreview(Object.assign(Object.assign({},t),{files:Gn(t.files,e)}))},[e]),a.default.createElement("iframe",{ref:n})}function Gn(e,t){let n=Object.assign({},e);return t.forEach(r=>{n["/"+r.name]={code:r.code.lines.map(o=>o.tokens.map(i=>i.content).join("")).join(`
`)}}),n}function br(e){var t,{children:n,editorSteps:r,codeConfig:o,start:i=0,presetConfig:s}=e,c=j(e,["children","editorSteps","codeConfig","start","presetConfig"]);let u=a.default.Children.toArray(n),[d,f]=a.default.useState({stepIndex:i,step:r[i]}),p=d.step;function b(y){let x=Ee(d.step,y,null);f(Object.assign(Object.assign({},d),{step:x}))}let g=u[0];return a.default.createElement("div",{className:`ch-spotlight ${s?"ch-spotlight-with-preview":""}`},a.default.createElement("div",{className:"ch-spotlight-tabs"},!((t=g?.props)===null||t===void 0)&&t.children?a.default.createElement("div",null,u[0]):null,u.map((y,x)=>x===0?null:a.default.createElement("div",{key:x,onClick:()=>f({stepIndex:x,step:r[x]}),className:"ch-spotlight-tab","data-selected":x===d.stepIndex?"true":void 0},y))),a.default.createElement("div",{className:"ch-spotlight-sticker"},a.default.createElement(Ne,Object.assign({},c,p,{codeConfig:o,onTabClick:b})),s&&a.default.createElement(_e,{className:"ch-spotlight-preview",files:p.files,presetConfig:s,codeConfig:o})))}function Fa(e){e.forEach(ja)}function ja(e){var t;let n=((t=e.rootBounds)===null||t===void 0?void 0:t.height)||0;xt(e.rootBounds,{border:`${Math.min(10,n/2)}px solid ${Ve.rootColor}`,overflow:"hidden",boxSizing:"border-box"}),xt(e.boundingClientRect,{border:`${Math.min(10,e.boundingClientRect.height/2)}px solid ${e.isIntersecting?Ve.enterColor:Ve.exitColor}`,overflow:"hidden",boxSizing:"border-box"}),xt(e.intersectionRect,{backgroundColor:Ve.interColor,zIndex:2})}function xt(e,t={}){let{width:n,left:r,height:o,top:i}=e,s=document.createElement("div");return s.style.position="fixed",s.style.width=n+"px",s.style.left=r+"px",s.style.top=i+"px",s.style.height=o+"px",s.style.pointerEvents="none",s.style.transition="opacity 2s ease-in",Object.assign(s.style,t),requestAnimationFrame(()=>requestAnimationFrame(()=>{s.style.opacity="0"})),s.addEventListener("transitionend",()=>{document.body.removeChild(s)}),document.body.appendChild(s),s}var Ve={rootColor:"#9428AB",enterColor:"#B35C00",exitColor:"#035570",interColor:"#9CAF00BB"},Ba=typeof window<"u"?a.default.useLayoutEffect:a.default.useEffect;function Ia(){let e=typeof window=="object";function t(){return e?document.documentElement.clientHeight:void 0}let[n,r]=a.default.useState(t);return a.default.useEffect(()=>{function o(){r(t())}return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),Ba(()=>{r(t())},[]),n}var yr=a.default.createContext(void 0),Lt=typeof window<"u"?a.default.useLayoutEffect:a.default.useEffect;function La({onStepChange:e,children:t,getRootMargin:n=Aa,debug:r=!1}){let[o,i]=a.default.useState(),s=Ia();return Lt(()=>{let d=_a(f=>{(r||window.chDebugScroller)&&Fa(f),f.forEach(p=>{if(p.intersectionRatio>0){let b=p.target;e(+b.stepIndex)}})},n(s||0));return i(d),()=>d.disconnect()},[s]),a.default.createElement(yr.Provider,{value:o},t)}function Na(e){var{as:t="section",index:n}=e,r=j(e,["as","index"]);let o=a.default.useRef(null),i=a.default.useContext(yr);return Lt(()=>(i&&i.observe(o.current),()=>i&&i.unobserve(o.current)),[i]),Lt(()=>{let s=o.current;s.stepIndex=n},[n]),a.default.createElement(t,Object.assign(Object.assign({},r),{ref:o}))}function _a(e,t){return new IntersectionObserver(e,{rootMargin:t,threshold:1e-6,root:null})}function Aa(e){return`-${e/2-2}px 0px`}function wr(e){var{children:t,editorSteps:n,codeConfig:r,presetConfig:o,start:i=0}=e,s=j(e,["children","editorSteps","codeConfig","presetConfig","start"]);let c=a.default.Children.toArray(t),[u,d]=a.default.useState({stepIndex:i,step:n[i]}),f=u.step;function p(y){d({stepIndex:y,step:n[y]})}function b(y){let x=Ee(u.step,y,null);d(Object.assign(Object.assign({},u),{step:x}))}function g(y,x,k){let S=Ee(n[y],x,k);d(Object.assign(Object.assign({},u),{stepIndex:y,step:S}))}return a.default.createElement("section",{className:`ch-scrollycoding ${o?"ch-scrollycoding-with-preview":""}`},a.default.createElement("div",{className:"ch-scrollycoding-content"},a.default.createElement(La,{onStepChange:p},c.map((y,x)=>a.default.createElement(Na,{as:"div",key:x,index:x,onClick:()=>p(x),className:"ch-scrollycoding-step-content","data-selected":x===u.stepIndex?"true":void 0},a.default.createElement(gr,{onActivation:({fileName:k,focus:S})=>{g(x,k,S)},onReset:()=>{p(x)}},y))))),a.default.createElement("div",{className:"ch-scrollycoding-sticker"},a.default.createElement(Ne,Object.assign({showExpandButton:!0},s,f,{codeConfig:r,onTabClick:b})),o&&a.default.createElement(_e,{className:"ch-scrollycoding-preview",files:f.files,presetConfig:o,codeConfig:r})))}function xr(e){var{children:t,editorSteps:n,codeConfig:r,presetConfig:o,code:i}=e,s=j(e,["children","editorSteps","codeConfig","presetConfig","code"]);let c=a.default.Children.toArray(t),u=c.some(g=>{var y;return(y=g.props)===null||y===void 0?void 0:y.children}),[d,f]=a.default.useState({stepIndex:0,step:n[0]}),p=d.step;function b(g){let y=Ee(d.step,g,null);f(Object.assign(Object.assign({},d),{step:y}))}return a.default.createElement("div",{className:`ch-slideshow ${o?"ch-slideshow-with-preview":""}`},a.default.createElement("div",{className:"ch-slideshow-slide"},a.default.createElement(Ne,Object.assign({},s,p,{codeConfig:Object.assign(Object.assign({},r),i),onTabClick:b})),o&&a.default.createElement(_e,{className:"ch-slideshow-preview",files:p.files,presetConfig:o,codeConfig:r})),a.default.createElement("div",{className:"ch-slideshow-notes"},a.default.createElement("div",{className:"ch-slideshow-range"},a.default.createElement("button",{onClick:()=>f(g=>{let y=Math.max(0,g.stepIndex-1);return{stepIndex:y,step:n[y]}})},"Prev"),a.default.createElement("input",{type:"range",min:0,max:n.length-1,value:d.stepIndex,step:1,onChange:g=>f({stepIndex:+g.target.value,step:n[+g.target.value]})}),a.default.createElement("button",{onClick:()=>f(g=>{let y=Math.min(n.length-1,g.stepIndex+1);return{stepIndex:y,step:n[y]}})},"Next")),u&&a.default.createElement("div",{className:"ch-slideshow-note"},c[d.stepIndex])))}function Er(){return"error: code hike remark plugin not running or annotation isn't at the right place"}var Cr={box:$a,bg:kr,label:za,link:Da,mark:Ha,withClass:Ra};function Ha(e){return e.isInline?a.default.createElement(Pa,Object.assign({},e)):a.default.createElement(kr,Object.assign({},e))}function kr({children:e,data:t,style:n,theme:r}){let o="ch-code-multiline-mark "+(t??""),i=C(r,w.RangeHighlightBackground),s=C(r,w.EditorInfoForeground);return a.default.createElement("div",{style:Object.assign(Object.assign({},n),{background:i}),className:o},a.default.createElement("span",{className:"ch-code-multiline-mark-border",style:{background:s}}),e)}function Pa({children:e,data:t,theme:n}){let r=Ma(e)||Be(C(n,w.CodeForeground),.2),o="ch-code-inline-mark "+(t??"");return a.default.createElement("span",{className:o,style:{background:r}},e)}function Ma(e){var t,n,r;let o=a.default.Children.toArray(e)[0],i=a.default.Children.toArray(((t=o?.props)===null||t===void 0?void 0:t.children)||[])[0],s=a.default.Children.toArray(((n=i?.props)===null||n===void 0?void 0:n.children)||[])[0],{color:c}=((r=s?.props)===null||r===void 0?void 0:r.style)||{};if(c)return Be(c,.2)}function $a({children:e,data:t,theme:n}){var r,o;let i=typeof t=="string"?t:((o=(r=n.tokenColors.find(s=>{var c;return(c=s.scope)===null||c===void 0?void 0:c.includes("string")}))===null||r===void 0?void 0:r.settings)===null||o===void 0?void 0:o.foreground)||"yellow";return a.default.createElement("span",{className:"ch-code-box-annotation",style:{outline:`2px solid ${i}`}},e)}function Ra({children:e,data:t,style:n,theme:r}){let o=t;return a.default.createElement("span",{style:n,className:o},e)}function za({children:e,data:t,style:n,theme:r}){let o=r.colors["editor.lineHighlightBackground"]||r.colors["editor.selectionHighlightBackground"],[i,s]=a.default.useState(!1);return a.default.createElement("div",{style:Object.assign(Object.assign({},n),{background:i?o:void 0}),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)},e,a.default.createElement("div",{style:{position:"absolute",right:0,paddingRight:16,display:i?"block":"none",opacity:.7}},t?.children||t))}function Da({children:e,isInline:t,style:n,data:r}){let o=r?.url||r,i=r?.title;return a.default.createElement("a",{href:o,title:i,className:t?"ch-code-inline-link":"ch-code-link",style:n},e)}function Or(e){var{className:t,codeConfig:n,children:r,code:o}=e,i=j(e,["className","codeConfig","children","code"]);let{theme:s}=n,{lines:c}=o,u=c.flatMap(f=>f.tokens),d=C(s,w.CodeForeground);return a.default.createElement("span",Object.assign({className:"ch-inline-code not-prose"+(t?" "+t:"")},i),a.default.createElement("code",{style:{["--ch-code-foreground"]:d,background:Be(C(s,w.CodeBackground),.9),color:d}},u.map((f,p)=>a.default.createElement("span",Object.assign({key:p},f.props),f.content))))}var Wa={Code:cr,Section:dr,SectionLink:hr,SectionCode:fr,Spotlight:br,Scrollycoding:wr,Preview:_e,annotations:Cr,Annotation:Er,Slideshow:xr,InlineCode:Or},Ga={MiniBrowser:mr,EditorSpring:lr};W.Annotation=Er;W.CH=Wa;W.Code=cr;W.InlineCode=Or;W.Preview=_e;W.Scrollycoding=wr;W.Section=dr;W.SectionCode=fr;W.SectionLink=hr;W.Slideshow=xr;W.Spotlight=br;W.annotations=Cr;W.internal=Ga});var Ja={};ti(Ja,{CH:()=>Ae,chCodeConfig:()=>jr,default:()=>Xa,frontmatter:()=>Ua});var v=dn(hn()),ot=dn(Sr());var{Paragraph:rl,TextLink:ol,Blockquote:il,Ul:rt,Ol:sl,Li:J,I:al,Em:ll,PostImage:cl,Strike:ul,InlineCode:M,CH1:dl,CH2:fl,CH3:hl,H1:pl,H2:gl,H3:ml,ContentHeading:vl,Heading:bl,CodeSnippet:yl,SandPack:wl,HorizontalRule:xl,SideNote:El,Expanded:Cl,CodeBlock:kl}=reactMdxComp;var Ae={annotations:ot.annotations,Code:ot.Code},jr={theme:{},autoImport:!0},Ua={postId:3038517924585219e3,title:"How to use async functions in useEffect",slugify:"how-to-use-async-functions-in-useeffect",description:"useEffect in deep",date:"24/06/2022",author:{name:"Le Xuan Tien",nickName:"tienlx97",url:"https://facebook.com/tienlx97",description:"I'm fullstack developer and still FA. Plz contact me if you are girl",id:6969},post:"stories",tags:["react","useEffect","typescript","async"]};function Tr(e){let t=Object.assign({p:"p",h1:"h1",strong:"strong",h2:"h2"},e.components);return Ae||Fr("CH",!1),Ae.Code||Fr("CH.Code",!0),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(t.p,{children:"Let's talk about modules. Being able to share code across multiple JavaScript files and even across multiple projects is an easy thing to do when you start to use modules in JavaScript."}),`
`,(0,v.jsx)(t.h1,{children:"What are Modules ?"}),`
`,(0,v.jsxs)(t.p,{children:[(0,v.jsx)(t.strong,{children:"Modules"})," are a way to structure and organize your JavaScript, and it gives us the ability to share functionality and data across multiple files and projects."]}),`
`,(0,v.jsx)(t.p,{children:"A few things you need to know about modules:"}),`
`,(0,v.jsxs)(rt,{children:[(0,v.jsx)(J,{children:"They have their own scope, similar to how a function has scope."}),`
`,(0,v.jsx)(J,{children:"They can hold anything (functionality, data, config)"})]}),`
`,(0,v.jsx)(t.h1,{children:"Use Cases"}),`
`,(0,v.jsxs)(t.p,{children:["If you recall in the previous lesson where we built a currency converter, we had a variable ",(0,v.jsx)(M,{children:"currencies"})," that was a giant object of all the currency codes and names. It would be nice if instead of having that object directly in our file, we could put it in a separate module and then import it into the file to use when we need it. That is what modules will allow us to do."]}),`
`,(0,v.jsx)(t.p,{children:"Another use case for modules is utility functions."}),`
`,(0,v.jsxs)(t.p,{children:["For example, in the Dad Jokes lesson, we had a method ",(0,v.jsx)(M,{children:"randomItemFromArray"}),". That method is not specific to that project, it's just a handy array utility. We could throw that off into a separate file that is used for utilities."]}),`
`,(0,v.jsx)(t.h2,{children:"Modules in the Browser"}),`
`,(0,v.jsx)(t.p,{children:"Let's look at how modules work in the browser, and then we will look at some tooling that will help us work with them."}),`
`,(0,v.jsxs)(t.p,{children:["You might hear modules referred to as ",(0,v.jsx)(t.strong,{children:"ESM"}),", ",(0,v.jsx)(t.strong,{children:"EcmaScript modules"}),", or ",(0,v.jsx)(t.strong,{children:"ES6 modules"}),". They were added to JavaScript a couple of years ago, and they are the best way to organize your JavaScript when you have multiple files."]}),`
`,(0,v.jsxs)(t.p,{children:["Let's go into our playground and create a folder called ",(0,v.jsx)(M,{children:"modules"})," (it might already be there for you)."]}),`
`,(0,v.jsx)(t.p,{children:"Inside that folder create the following files:"}),`
`,(0,v.jsxs)(rt,{children:[(0,v.jsx)(J,{children:"index.html"}),`
`,(0,v.jsx)(J,{children:"utils.js"}),`
`,(0,v.jsx)(J,{children:"handlers.js"}),`
`,(0,v.jsx)(J,{children:"scripts.js"})]}),`
`,(0,v.jsx)(t.p,{children:"That gives us 3 separate JavaScript files."}),`
`,(0,v.jsxs)(t.p,{children:["Add the following code to ",(0,v.jsx)(M,{children:"scripts.js"}),"."]}),`
`,(0,v.jsxs)(t.p,{children:["In ",(0,v.jsx)(M,{children:"utils.js"}),", add a simple function."]}),`
`,(0,v.jsxs)(t.p,{children:["Let's say we need to use the ",(0,v.jsx)(M,{children:"returnHi"})," function in ",(0,v.jsx)(M,{children:"scripts.js"}),". Can we do that if the function is in a separate JavaScript file than the one using it?"]}),`
`,(0,v.jsx)(t.p,{children:"Let's try. Modify the code like so."}),`
`,(0,v.jsxs)(t.p,{children:["Go into ",(0,v.jsx)(M,{children:"index.html"})," and add the base HTML if it is not already there as well as a script src tag and link it to ",(0,v.jsx)(M,{children:"scripts.js"}),". Open the html page in the browser."]}),`
`,(0,v.jsxs)(t.p,{children:["When you do that, you should see an error that ",(0,v.jsx)(M,{children:"returnHi"})," is not defined."]}),`
`,(0,v.jsxs)(t.p,{children:["That makes sense - because we have not yet put our ",(0,v.jsx)(M,{children:"utils"})," on the page."]}),`
`,(0,v.jsx)(t.p,{children:"You might think we can just add another script source tag above the one we added and link it to utils."}),`
`,(0,v.jsx)(t.p,{children:"As you can see, now it works. All we had to do is put one script in front of the other one that needed it in."}),`
`,(0,v.jsx)(t.h2,{children:"In the Past"}),`
`,(0,v.jsx)(t.p,{children:"In the past, this was how code was shared across multiple files."}),`
`,(0,v.jsx)(t.p,{children:"That got out of hand pretty quickly because you had all these files that had dependencies and the order of the script tags affected the execution because they all have to load in a waterfall, which means one after the other. Each file is assuming that the other one has access to it."}),`
`,(0,v.jsxs)(t.p,{children:["If you look at our ",(0,v.jsx)(M,{children:"scripts.js"})," file in VS Code, ESLint is complaining that returnHi is not defined. That is because that function does not exist within the file, so where did it come from?"]}),`
`,(0,v.jsx)(t.p,{children:"The only reason it works is because we have globally scoped the function in another file and we are just assuming that it will be available to us on the page. That is a very brittle way to write JavaScript"}),`
`,(0,v.jsx)(t.h2,{children:"In the Present"}),`
`,(0,v.jsx)(t.p,{children:"The solution to that is to use modules!"}),`
`,(0,v.jsxs)(t.p,{children:["When you need a function like ",(0,v.jsx)(M,{children:"returnHi"}),", you can just import the function from the module, which is the same thing as saying from the file that actually contains that function."]}),`
`,(0,v.jsx)(t.p,{children:"When you do that, you don't really have to worry about things loading before each other, because we will always import the values we need before hand."}),`
`,(0,v.jsx)(t.p,{children:"Let's change this example to use a very sime module."}),`
`,(0,v.jsxs)(t.p,{children:["In ",(0,v.jsx)(M,{children:"index.html"}),", there is just have one script tag and that is going to be the entry point into the JavaScript."]}),`
`,(0,v.jsxs)(t.p,{children:["Add the type attribute on the script tag and set it to ",(0,v.jsx)(M,{children:"module"})," like so \u{1F447}"]}),`
`,(0,v.jsx)(Ae.Code,{codeConfig:jr,northPanel:{tabs:["hello.py"],active:"hello.py",heightRatio:1},files:[{name:"hello.py",mark:"1[22:30]",focus:"",code:{lines:[{tokens:[{content:"print(",props:{style:{color:"#BBBBBB"}}},{content:'"Rendered with Code Hike"',props:{style:{color:"#BBBBBB"}}},{content:")",props:{style:{color:"#BBBBBB"}}}]}],lang:"python"},annotations:[{focus:"1[22:30]",Component:Ae.annotations.mark}]}]}),`
`,(0,v.jsxs)(rt,{children:[(0,v.jsx)(J,{children:"index.html"}),`
`,(0,v.jsx)(J,{children:"utils.js"}),`
`,(0,v.jsx)(J,{children:"handlers.js"}),`
`,(0,v.jsx)(J,{children:"scripts.js"})]}),`
`,(0,v.jsx)(t.h1,{children:"Another"}),`
`,(0,v.jsx)(t.p,{children:"In the past, this was how code was shared across multiple files."}),`
`,(0,v.jsx)(t.p,{children:"That got out of hand pretty quickly because you had all these files that had dependencies and the order of the script tags affected the execution because they all have to load in a waterfall, which means one after the other. Each file is assuming that the other one has access to it."}),`
`,(0,v.jsxs)(t.p,{children:["If you look at our ",(0,v.jsx)(M,{children:"scripts.js"})," file in VS Code, ESLint is complaining that returnHi is not defined. That is because that function does not exist within the file, so where did it come from?"]}),`
`,(0,v.jsx)(t.p,{children:"The only reason it works is because we have globally scoped the function in another file and we are just assuming that it will be available to us on the page. That is a very brittle way to write JavaScript"}),`
`,(0,v.jsx)(t.p,{children:"In the past, this was how code was shared across multiple files."}),`
`,(0,v.jsx)(t.p,{children:"That got out of hand pretty quickly because you had all these files that had dependencies and the order of the script tags affected the execution because they all have to load in a waterfall, which means one after the other. Each file is assuming that the other one has access to it."}),`
`,(0,v.jsxs)(t.p,{children:["If you look at our ",(0,v.jsx)(M,{children:"scripts.js"})," file in VS Code, ESLint is complaining that returnHi is not defined. That is because that function does not exist within the file, so where did it come from?"]}),`
`,(0,v.jsx)(t.p,{children:"The only reason it works is because we have globally scoped the function in another file and we are just assuming that it will be available to us on the page. That is a very brittle way to write JavaScript"})]})}function qa(e={}){let{wrapper:t}=e.components||{};return t?(0,v.jsx)(t,Object.assign({},e,{children:(0,v.jsx)(Tr,e)})):Tr(e)}var Xa=qa;function Fr(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}return ni(Ja);})();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
;return Component;
